#  Release Notes

This page documents production updates to Migrate for Anthos. You can
periodically check this page for announcements about new or updated features,
bug fixes, known issues, and deprecated functionality.

To get the latest product updates delivered to you, add the URL of this page
to your [ feed reader
](https://wikipedia.org/wiki/Comparison_of_feed_aggregators) , or add the feed
URL directly: ` https://cloud.google.com/feeds/migrateanthos-release-notes.xml
`

##  December 19, 2019

v1.0.1

**FIXED:**

When specifying a mixed-case value for the ` clone_vm_disks ` script's ` -A
<var>app-name</var> ` argument, the YAML file generated by the script would
include a workload name that could not be deployed.

The command now checks for a valid input value.

**FIXED:**

The Migrate for Compute Engine password could be inadvertently logged in
Stackdriver Logging.

**FIXED:**

Migrate for Anthos failed to recognize a reference to a disk specified as a `
PARTUUID ` in the ` fstab ` file. ` PARTUUID ` is now supported.

**FIXED:**

Deleting a ` StatefulSet ` attached to a persistent volume would leave the
volume in an attached state./p>

**FIXED:**

Using configuration YAML from a version prior to 1.0 caused the pod to enter a
crashloop stage.

An error message now is now displayed to request that you update to [ the
latest definition ](https://cloud.google.com/migrate/anthos/docs/yaml-
reference) .

**FIXED:**

When resolving block devices in a multipath device, the operation appeared to
succeed even if there was an error with one of the block devices.

**FIXED:**

Resolving source storage devices would sometimes fail without error if one of
the devices has no partitions.

**FIXED:**

Using ` kubectl exec ` on a migration pod would sometimes display superfluous
` bash ` warnings about ` LC_ALL ` .

**FIXED:**

Attempting to switch to a non-root user with the ` su ` command after
connecting to the machine with ` ssh ` would fail when you had previously used
` su ` to switch to another user.

**FIXED:**

Migrate for Anthos CSI drive would sometimes fail connecting to the migrated
VM.

**FIXED:**

The ` kubectl cp ` command would fail when copying files to the migrated pod.

##  November 13, 2019

v1.0.0

**FEATURE:**

Migrate for Anthos supports migrating existing VMware, Amazon EC2, Azure, and
Compute Engine VMs to containers on Google Kubernetes Engine. For more
information, see [ Benefits of Migrate for Anthos
](https://cloud.google.com/migrate/anthos/docs/anthos-migrate-benefits) .

**FEATURE:**

You can monitor export of short-term storage to a persistent volume using `
kubectl ` . For more information, see [ Exporting streaming PVs to permanent
storage ](https://cloud.google.com/migrate/anthos/docs/export-storage) .

**FEATURE:**

Using a ` ConfigMap ` , you can have content from application log files you
specify written to Stackdriver Logging (a default list is included). For more,
see [ Configuring logging to Stackdriver Logging
](https://cloud.google.com/migrate/anthos/docs/configuring-stackdriver-
logging) .

**FEATURE:**

For information on operating systems supported by Migrate for Anthos, see [
Compatible VM operating systems
](https://cloud.google.com/migrate/anthos/docs/compatible-os-versions) .

**ISSUE:**

On the Migrate for Compute Engine portlet in VMWare vCenter, VMs will be shown
as Managed by Migrate for Compute Engine during migration process. Only the
cache and storage migration status are updated in this view. Other
functionality, such as Migrate for Compute Engine actions, may not be
functional.

**ISSUE:**

For known issues and workarounds, see [ Troubleshooting Migrate for Anthos
](https://cloud.google.com/migrate/anthos/docs/troubleshooting) .

**ISSUE:**

VMs using EFI configurations are not compatible for migration with this
release.

**ISSUE:**

Operating systems running ` systemd ` versions lower than 234 are limited to
65536 open files.

**ISSUE:**

When using a private GKE cluster, the GKE master might be unable to reach
Migrate for Anthos infrastructure (specifically, the admission-controller) by
default. This is because the admission-controller pod listens on port 7000.

To work around this issue, add port 7000 to the firewall rules of the master
node. For more, see [ Creating a private cluster
](https://cloud.google.com/kubernetes-engine/docs/how-to/private-
clusters#add_firewall_rules) .

**ISSUE:**

When specifying a mixed-case value for the ` clone_vm_disks ` script's ` -A
<var>app-name</var> ` argument, the YAML file generated by the script includes
a workload name that can not be deployed.

To work around this issue, specify the argument's value in lowercase only.

**ISSUE:**

The Migrate for Compute Engine password can be inadvertently logged in
Stackdriver Logging.

**ISSUE:**

Migrate for Anthos fails to recognize a reference to a disk specified as a `
PARTUUID ` in the ` fstab ` file.

**ISSUE:**

Deleting a StatefulSet attached to a persistent volume will leave the volume
in an attached state.

**ISSUE:**

Using configuration YAML from a version prior to 1.0 causes the pod to enter a
crashloop stage.

To work around this, update your YAML file to conform to [ the latest
definition ](https://cloud.google.com/migrate/anthos/docs/yaml-reference) .

**ISSUE:**

When resolving block devices in a multipath device, the operation appears to
succeed even if there was an error with one of the block devices.

**ISSUE:**

Resolving source storage devices would sometimes fail without error if one of
the devices has no partitions.

**ISSUE:**

Using ` kubectl exec ` on a migration pod sometimes displays superfluous `
bash ` warnings about ` LC_ALL ` . These are only cosmetic.

**ISSUE:**

Attempting to switch to a non-root user with the ` su ` command after
connecting to the machine with ` ssh ` fails when you have previously used `
su ` to switch to another user.

To work around this issue, use ` kubectl exec ` instead of ` ssh ` to get a
shell to the container.

**ISSUE:**

Migrate for Anthos CSI drive may sometimes fail connecting to the migrated VM.

**ISSUE:**

The ` kubectl cp ` command fails when copying files to the migrated pod.

Send feedback

