<article class="devsite-article">
 <article class="devsite-article-inner">
  <div background="teal" class="devsite-banner devsite-banner-announcement">
   <div class="devsite-banner-message">
    <div class="devsite-banner-message-text">
     <p>
      <strong>
       NOTE:
      </strong>
      Some aspects of this product are in Beta. The hybrid installation options are GA. To join the Beta program, reach out to your Apigee representative.
     </p>
    </div>
   </div>
  </div>
  <h1 class="devsite-page-title">
   1.1.0 - Apigee hybrid runtime release notes
  </h1>
  <devsite-toc class="devsite-nav" devsite-toc-embedded="">
  </devsite-toc>
  <div class="devsite-article-body clearfix">
   <p>
    On January 27, 2020, Google released Apigee hybrid runtime version 1.1.0. This section
  describes new features and changes released in version 1.1.0.
   </p>
   <aside class="note">
    <strong>
     NOTE:
    </strong>
    The Apigee APIs, Apigee hybrid UI, GCP integrated services, and integrated portal are in
    <a href="https://cloud.google.com/products/#product-launch-stages">
     Beta
    </a>
    . All other Apigee hybrid components are GA. For more information, see
    <a href="/apigee/docs/hybrid/terminology">
     Versioning and terminology
    </a>
    .
   </aside>
   <aside class="objective">
    For more information, see the following resources:
    <ul>
     <li>
      <em>
       <a href="/apigee/docs/hybrid/what-is-hybrid">
        Learn more about hybrid
       </a>
      </em>
      or
      <em>
       <a href="/apigee/docs/hybrid/big-picture">
        Start installing
       </a>
      </em>
     </li>
     <li>
      <em>
       Create a paid account:
      </em>
      Contact
      <a href="https://pages.apigee.com/contact-sales-reg.html">
       Apigee Sales
      </a>
     </li>
     <li>
      <em>
       Questions or issues?
      </em>
      Contact
      <a class="external" href="https://cloud.google.com/apigee/support/">
       Apigee Support
      </a>
     </li>
    </ul>
   </aside>
   <h2 data-text="
  Upgrading
" id="upgrading" tabindex="0">
    Upgrading
   </h2>
   <p>
    You cannot upgrade from 1.0.0 to 1.1.0, and the new version is not backward compatible with
  version 1.0.0. Version 1.1.0 requires a new installation.
   </p>
   <h2 data-text="
  New features and improvements
" id="new-features-and-improvements" tabindex="0">
    New features and improvements
   </h2>
   <h3 data-text="
Apigee Connect (Alpha release)
" id="apigee-connect-alpha-release" tabindex="0">
    Apigee Connect (Alpha release)
   </h3>
   <p>
    Apigee Connect Alpha allows the Apigee hybrid MART service to connect to the management plane
  without requiring you to expose the MART endpoint. If you use Apigee Connect, you do not
  need to configure the MART ingress gateway with a host alias and an authorized DNS
  certificate. For details, please contact your Apigee representative.
   </p>
   <h3 data-text="
  Base path routing
" id="base-path-routing" tabindex="0">
    Base path routing
   </h3>
   <p>
    Base path routing allows you to configure and manage how Apigee hybrid routes API proxy calls
  to specific environments. For details, see
    <a href="/apigee/docs/hybrid/base-path-routing">
     Configure base
  path routing
    </a>
    .
   </p>
   <h2 data-text="
  Changes
" id="changes" tabindex="0">
    Changes
   </h2>
   <p>
    The following changes have been made for hybrid runtime version 1.1.0. Some of these changes,
  as noted, are
    <strong>
     not backward incompatible
    </strong>
    with version 1.0.0.
   </p>
   <ul>
    <li>
     The
     <code dir="ltr" translate="no">
      apigeectl
     </code>
     CLI now installs Istio in the
     <code dir="ltr" translate="no">
      istio-system
     </code>
     namespace.
    This is the default namespace for Istio. This change is
     <strong>
      backward incompatible
     </strong>
     with hybrid version 1.0.0.
    </li>
    <li>
     The
     <code dir="ltr" translate="no">
      apigeectl
     </code>
     CLI now installs CertManager into the
     <code dir="ltr" translate="no">
      cert-manager
     </code>
     namespace. This change is
     <strong>
      backward incompatible
     </strong>
     with hybrid version 1.0.0.
    </li>
    <li>
     The supported version of Istio deployed with Apigee hybrid runtime has been migrated to 1.4.2
  because version 1.2.x is no longer supported.
    </li>
   </ul>
   <h2 data-text="Bugs fixed" id="bugs-fixed" tabindex="0">
    Bugs fixed
   </h2>
   <p>
    The following issues listed in the Apigee hybrid 1.0.0 release notes have been fixed:
   </p>
   <table class="cyan">
    <thead>
     <tr>
      <th width="20%">
       Issue
      </th>
      <th>
       Description
      </th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td>
       144886537
      </td>
      <td>
       Base path routing is not working in Apigee hybrid v1.0.0.
        When the overrides is setup to route to different environments with the same hostAlias,
        the ingress does not route to the environment based on path.
      </td>
      <tr>
       <td>
        143774187
       </td>
       <td>
        The hybrid UI displays the label "Company" in the Apps view.
       </td>
      </tr>
      <tr>
      </tr>
     </tr>
    </tbody>
   </table>
   <h2 data-text="
  Known issues
" id="known-issues" tabindex="0">
    Known issues
   </h2>
   <p>
    The following table describes the known issues for this release:
   </p>
   <table class="purple">
    <thead>
     <tr>
      <th width="20%">
       Issue
      </th>
      <th>
       Description
      </th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td>
       N/A
      </td>
      <td>
       You cannot use a "*" for the
       <code dir="ltr" translate="no">
        hostAlias
       </code>
       property for both the
       <code dir="ltr" translate="no">
        mart
       </code>
       and
       <code dir="ltr" translate="no">
        envs
       </code>
       configurations. The best practice is to use a specific hostname
        for the
       <code dir="ltr" translate="no">
        mart
       </code>
       configuration.
      </td>
     </tr>
     <tr>
      <tr>
       <td>
        N/A
       </td>
       <td>
        Setting
        <code dir="ltr" translate="no">
         HTTP_PROXY
        </code>
        ,
        <code dir="ltr" translate="no">
         HTTPS_PROXY
        </code>
        , and
        <code dir="ltr" translate="no">
         NO_PROXY
        </code>
        variables is not supported in the Apigee Connect Alpha version.
       </td>
      </tr>
      <tr>
       <tr>
        <td>
         N/A
        </td>
        <td>
         <p>
          Invalid HTTP Header error: The Istio ingress switches all incoming target responses
          to the HTTP2 protocol. Because the hybrid message processor only supports HTTP1, you
          may see the following error when an API proxy is called:
         </p>
         <pre class="prettyprint" dir="ltr" translate="no">http2 error: Invalid HTTP header field was received: frame type: 1, stream: 1,
   name: [:authority], value: [domain_name]</pre>
         <p>
          If you see this error, you can take either of the following actions to correct the
          problem:
         </p>
         <ul>
          <li>
           Modify the target service to omit the Host header in the response.
          </li>
          <li>
           Remove the Host header using the AssignMessage policy in your API proxy if
            necessary.
          </li>
         </ul>
        </td>
       </tr>
      </tr>
      <tr>
       <td>
        144584813
       </td>
       <td>
        If you create a debug session but the session does not yet have any transactions in it,
          then the
        <a href="https://cloud.google.com/hybrid/reference/apis/rest/v1/organizations.environments.apis.revisions.debugsessions/list">
         List Debug Sessions API
        </a>
        does not include the session in this list. The API
          only includes sessions in the response if the session contains at least one transaction.
       </td>
      </tr>
      <tr>
       <td>
        144436206
       </td>
       <td>
        In the
        <strong>
         Cache Performance
        </strong>
        view, the Cache Hit Ratio calculation is
        incorrect.
       </td>
      </tr>
      <tr>
       <td>
        144321491
       </td>
       <td>
        Apigee hybrid logs "Creating missing cache" notifications that indicate a potential
          performance degradation. These messages are expected and can be ignored.
       </td>
      </tr>
      <tr>
       <td>
        144321144
       </td>
       <td>
        Proxies with secure
        <!-- TODO: ad, 131111865 -->
        virtual hosts cannot be reloaded.
       </td>
      </tr>
      <tr>
       <td>
        144286363
       </td>
       <td>
        <p>
         Debug mask in env.json does not mask response data.
        </p>
        <p>
         The following API to update the env.json debug mask with a responseJSONPaths field does not work:
        </p>
        <pre dir="ltr" translate="no">PATCH /v1/organizations/org/environments/env/debugmask?replaceRepeatedFields=true
{
  "responseJSONPaths": ["$.maskedDataEnv"]
}</pre>
        <p>
         To work around this issue with trace, you can delete an entire trace session in the UI,
        or you can use the trace APIs to delete individual transactions within a session.
        </p>
       </td>
      </tr>
      <td>
       143659917
      </td>
      <td>
       <p>
        The PopulateCache policy's expiration setting must be set to an explicit value
          between 1 and 30. For example:
       </p>
       <pre class="prettyprint" dir="ltr" translate="no">&lt;ExpirySettings&gt;
  &lt;TimeoutInSec&gt;30&lt;/TimeoutInSec&gt;
&lt;/ExpirySettings&gt;</pre>
      </td>
     </tr>
     <tr>
      <td>
       133192879
      </td>
      <td>
       <p>
        Summary: There is a very high latency when using the API or UI to get your
          organization's deployment status. This latency can result in an
        <code dir="ltr" translate="no">
         HTTP 204 (No
          Content)
        </code>
        or an
        <code dir="ltr" translate="no">
         HTTP 400 (Bad Request)
        </code>
        response.
       </p>
       <p>
        Workaround: Refresh your browser (or resend the request).
       </p>
      </td>
     </tr>
    </tbody>
   </table>
  </div>
 </article>
</article>