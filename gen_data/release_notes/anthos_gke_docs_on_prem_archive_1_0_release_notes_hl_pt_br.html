<article class="devsite-article">
 <article class="devsite-article-inner">
  <h1 class="devsite-page-title">
   Notas da versão
  </h1>
  <devsite-toc class="devsite-nav" devsite-toc-embedded="">
  </devsite-toc>
  <div class="devsite-article-body clearfix">
   <section class="intro">
    <p>
     Nesta página, documentamos as atualizações de produção do Anthos GKE On-Prem. Acesse-a
periodicamente para ver avisos de recursos novos ou atualizados,
correções de bugs, problemas conhecidos e recursos obsoletos.
    </p>
    <p>
    </p>
    <p>
     Veja também:
    </p>
    <ul>
     <li>
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/downloads?hl=pt-br">
       Downloads
      </a>
     </li>
     <li>
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/versioning-and-upgrades?hl=pt-br">
       Controle de versão e upgrades
      </a>
     </li>
     <li>
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/how-to/upgrading?hl=pt-br">
       Como fazer upgrade de clusters
      </a>
     </li>
     <li>
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/how-to/upgrading?hl=pt-br">
       Como fazer upgrade da estação de trabalho do administrador
      </a>
     </li>
    </ul>
    <p>
    </p>
   </section>
   <section>
    <p>
     É possível ver as atualizações mais recentes de todos os produtos do Google Cloud na
        página
     <a href="https://cloud.google.com/release-notes?hl=pt-br">
      Notas da versão do Google Cloud
     </a>
     .
    </p>
   </section>
   <section class="xml">
    <p>
     Para receber as atualizações de produtos mais recentes, adicione o URL desta página ao
     <a class="external" href="https://wikipedia.org/wiki/Comparison_of_feed_aggregators">
      leitor de feeds
     </a>
     ou adicione o URL do feed diretamente:
     <code dir="ltr" translate="no">
      https://cloud.google.com/feeds/gkeonprem-release-notes.xml
     </code>
    </p>
   </section>
   <section class="releases">
    <h2 data-text="22 de agosto de 2019" id="august_22_2019" tabindex="0">
     22 de agosto de 2019
    </h2>
    <p>
     A versão 1.0.2-gke.3 do GKE On-Prem já está disponível. Esta versão
  do patch inclui as seguintes alterações:
    </p>
    <h3 data-text="Novos recursos" id="new-features" tabindex="0">
     Novos recursos
    </h3>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora, o balanceamento de carga manual é compatível com a análise.
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora, é possível especificar uma rede vSphere diferente para
  clusters de administrador e usuário.
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora é possível excluir clusters de usuários usando
      <code dir="ltr" translate="no">
       gkectl
      </code>
      .
Consulte
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/how-to/administration/deleting-a-user-cluster?hl=pt-br">
       Como excluir um cluster de usuários
      </a>
      .
     </p>
    </div>
    <h3 data-text="Alterações" id="changes" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <code dir="ltr" translate="no">
      gkectl diagnose snapshot
     </code>
     agora recebe registros
dos planos de controle do cluster de usuários.
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      A especificação OIDC do GKE On-Prem foi
atualizada com vários novos campos:
      <code dir="ltr" translate="no">
       kubectlredirecturl
      </code>
      ,
      <code dir="ltr" translate="no">
       scopes
      </code>
      ,
      <code dir="ltr" translate="no">
       extraparams
      </code>
      e
      <code dir="ltr" translate="no">
       usehttpproxy
      </code>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Calico atualizado para a versão 3.7.4.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      As métricas do sistema do Cloud Monitoring prefixadas mudaram
de
      <code dir="ltr" translate="no">
       external.googleapis.com/prometheus/
      </code>
      para
      <code dir="ltr" translate="no">
       kubernetes.io/anthos/
      </code>
      .
Se você estiver rastreando métricas ou alertas, atualize seus painéis com o próximo
prefixo.
     </p>
    </div>
    <h3 data-text="Correção" id="fixed" tabindex="0">
     Correção
    </h3>
    <div class="release-fixed">
     <strong>
      FIXED:
     </strong>
     <p>
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/security-bulletins?hl=pt-br#august-22-2019">
       Corrigida uma vulnerabilidade do CVE-2019-11247
      </a>
      .
     </p>
    </div>
    <div class="release-fixed">
     <strong>
      FIXED:
     </strong>
     <p>
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/security-bulletins?hl=pt-br#august-23-2019">
       Corrigida uma vulnerabilidade no proxy RBAC
      </a>
      .
     </p>
    </div>
    <h2 data-text="30 de julho de 2019" id="july_30_2019" tabindex="0">
     30 de julho de 2019
    </h2>
    <p>
     A versão 1.0.1-gke.5 GKE On-Prem já está disponível. Esta versão
  do patch inclui as seguintes alterações:
    </p>
    <h3 data-text="Novos recursos" id="new-features_1" tabindex="0">
     Novos recursos
    </h3>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Publicação da
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/reference/cheatsheet?hl=pt-br">
       folha de referências do GKE On-Prem
      </a>
      .
     </p>
    </div>
    <h3 data-text="Alterações" id="changes_1" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      <code dir="ltr" translate="no">
       gkectl check-config
      </code>
      agora também verifica
  a disponibilidade do IP do nó se você estiver usando IPs estáticos.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      <code dir="ltr" translate="no">
       gkectl prepare
      </code>
      agora verifica se há uma
  VM e está marcada como um modelo no vSphere antes de tentar fazer upload
  da imagem OVA da VM.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Inclusão de compatibilidade com a especificação de um cluster do vCenter
  e um pool de recursos nesse cluster.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Atualiza o controlador F5 BIG-IP para a versão 1.9.0.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Atualiza o controlador de entrada do Istio para a versão 1.2.2.
     </p>
    </div>
    <h3 data-text="Correções" id="fixes" tabindex="0">
     Correções
    </h3>
    <div class="release-fixed">
     <strong>
      FIXED:
     </strong>
     <p>
      Corrige problemas de persistência de dados de registro com o
  registro do Docker da estação de trabalho de administrador.
     </p>
    </div>
    <div class="release-fixed">
     <strong>
      FIXED:
     </strong>
     <p>
      Corrige a validação que verifica se o nome de um cluster
  de usuário já está em uso.
     </p>
    </div>
    <h2 data-text="17 de junho de 2019" id="june_17_2019" tabindex="0">
     17 de junho de 2019
    </h2>
    <p>
     O GKE On-Prem já está disponível para todos os usuários. A versão 1.0.10 inclui as
  seguintes alterações:
    </p>
    <h3 data-text="Como fazer upgrade da versão Beta-1.4 para 1.0.10" id="beta_upgrade" tabindex="0">
     Como fazer upgrade da versão Beta-1.4 para 1.0.10
    </h3>
    <p>
     Antes de fazer upgrade dos clusters Beta para a primeira versão de disponibilidade
geral, execute as etapas descritas em
     <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/how-to/upgrading/from-beta?hl=pt-br">
      Como fazer upgrade da versão Beta do GKE On-Prem para a disponibilidade geral
     </a>
     ,
e analise os seguintes pontos:
    </p>
    <ul>
     <li>
      <p>
       Se você estiver executando uma versão Beta anterior à beta-1.4, faça upgrade
para a versão beta-1.4 primeiro.
      </p>
     </li>
     <li>
      <p>
       Se os clusters Beta estiverem executando os próprios balanceadores de carga L4, e não
    o padrão, F5 BIG-IP, será necessário excluir e recriar os clusters para
    executar a versão mais recente do GKE On-Prem.
      </p>
     </li>
     <li>
      <p>
       Se os clusters tiverem upgrade para a versão Beta-1.4 do Beta-1.3, execute o
    seguinte comando
       <i>
        para cada cluster de usuários
       </i>
       antes de fazer upgrade:
      </p>
      <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl delete crd networkpolicies.crd.projectcalico.org</pre>
     </li>
     <li>
      <p>
       A verificação do certificado do vCenter agora é necessária. "
       <code dir="ltr" translate="no">
        vsphereinsecure
       </code>
       "
    não é mais compatível. Se você estiver atualizando seus clusters beta 1.4 para 1.0.10,
    será necessário fornecer um certificado público raiz da CA confiável no
    arquivo de configuração do upgrade.
      </p>
     </li>
     <li>
      <p>
       Você precisa fazer upgrade de
       <i>
        todos
       </i>
       os clusters em execução. Para que essa
    atualização seja bem-sucedida, seus clusters não podem ser executados em um estado de versão misto.
      </p>
     </li>
     <li>
      <p>
       Primeiro,
    você precisa fazer upgrade dos clusters de administrador para a versão mais recente e depois
    fazer upgrade dos clusters de usuário.
      </p>
     </li>
    </ul>
    <p>
    </p>
    <h3 data-text="Novos recursos" id="new-features_2" tabindex="0">
     Novos recursos
    </h3>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora é possível ativar o
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/latest/how-to/installation/manual-lb?hl=pt-br">
       Modo de balanceamento de carga manual
      </a>
      para configurar um balanceador de carga L4. Você ainda pode optar por usar o balanceador
  de carga padrão F5 BIG-IP.
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      O processo de instalação baseado em configuração do GKE On-Prem foi
    atualizado. Agora, é possível instalar de maneira declarativa usando apenas um
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/concepts/overview?hl=pt-br#config">
       arquivo de configuração
      </a>
      .
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Adiciona
      <code dir="ltr" translate="no">
       gkectl create-config
      </code>
      , que gera um arquivo de
    configuração para instalar o GKE On-Prem, fazer upgrade de clusters atuais e
    criar clusters de usuário adicionais em uma instalação existente. Isso
    substitui o assistente de instalação e o
      <code dir="ltr" translate="no">
       create-config.yaml
      </code>
      das
    versões anteriores. Consulte a documentação atualizada para
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/latest/how-to/installation/install?hl=pt-br#generate_config">
       como instalar
    o GKE On-Prem
      </a>
      .
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Adiciona
      <code dir="ltr" translate="no">
       gkectl check-config
      </code>
      , que valida o
    arquivo de configuração do GKE On-Prem. Consulte a documentação atualizada para
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/latest/how-to/installation/install?hl=pt-br#validate_config">
       como instalar
    o GKE On-Prem
      </a>
      .
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Adiciona uma sinalização
      <code dir="ltr" translate="no">
       --validate-attestations
      </code>
      opcional a
      <code dir="ltr" translate="no">
       gkectl prepare
      </code>
      . Essa sinalização verifica se as imagens de contêiner
    incluídas na estação de trabalho do administrador foram criadas e assinadas pelo Google e estão
    prontas para implantação. Consulte a documentação atualizada para
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/latest/how-to/installation/install?hl=pt-br#prepare">
       como instalar
    o GKE On-Prem
      </a>
      .
     </p>
    </div>
    <h3 data-text="Alterações" id="changes_2" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Faz o upgrade da versão do Kubernetes para 1.12.7-gke.19. Agora é possível
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/latest/how-to/administration/upgrading-clusters?hl=pt-br">
       fazer upgrade dos clusters
      </a>
      para essa versão. Não é mais possível criar clusters que executam o Kubernetes
    versão 1.11.2-gke.19.
     </p>
     <p>
      Recomendamos fazer upgrade do cluster de administrador antes de fazer upgrade dos clusters
    de usuário.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Atualiza o controlador de entrada do Istio para a versão 1.1.7.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      A verificação do certificado do vCenter agora é necessária.
      <code dir="ltr" translate="no">
       vsphereinsecure
      </code>
      não é mais compatível. Você fornece o certificado no
    campo
      <code dir="ltr" translate="no">
       cacertpath
      </code>
      do arquivo de configuração do GKE On-Prem.
     </p>
     <p>
      Quando um cliente chama o servidor vCenter, o servidor vCenter precisa provar a
    identidade ao cliente, apresentando um certificado. Esse certificado precisa ser
    assinado por uma autoridade de certificação (CA, na sigla em inglês). O certificado não pode ser
    autoassinado.
     </p>
     <p>
      Se você estiver fazendo upgrade dos clusters Beta 1.4 para a versão 1.0.10,
    precisará fornecer um certificado público raiz da CA confiável do vCenter no
    arquivo de configuração do upgrade.
     </p>
    </div>
    <h3 data-text="Problemas conhecidos" id="known-issues" tabindex="0">
     Problemas conhecidos
    </h3>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      O
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/latest/upgrading-clusters?hl=pt-br">
       upgrade de clusters
      </a>
      pode causar interrupções ou inatividade para cargas de trabalho que usam
      <a class="external" href="https://kubernetes.io/docs/concepts/workloads/pods/disruptions/#how-disruption-budgets-work">
       PodDisruptionBudgets
      </a>
      (PDBs).
     </p>
    </div>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Talvez não seja possível fazer upgrade dos clusters Beta que usam o
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/latest/how-to/installation/manual-lb?hl=pt-br">
       Modo de balanceamento de carga manual
      </a>
      para a versão 1.0.10 do GKE On-Prem. Para fazer upgrade e continuar usando o próprio balanceador de carga com esses clusters, é preciso recriar os clusters.
     </p>
    </div>
    <h2 data-text="24 de maio de 2019" id="may_24_2019" tabindex="0">
     24 de maio de 2019
    </h2>
    <p>
     A versão Beta 1.4.7 do GKE On-Prem está disponível. Esta versão
  inclui as seguintes alterações:
    </p>
    <h3 data-text="Novos recursos" id="new-features_3" tabindex="0">
     Novos recursos
    </h3>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      No comando
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/beta-1.4/how-to/administration/diagnose?hl=pt-br#capture_admin">
       <code dir="ltr" translate="no">
        gkectl diagnose snapshot
       </code>
      </a>
      ,
  o parâmetro
      <code dir="ltr" translate="no">
       --admin-ssh-key-path
      </code>
      agora é opcional.
     </p>
    </div>
    <h3 data-text="Alterações" id="changes_3" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Em 8 de maio de 2019, introduzimos uma alteração no Connect, o serviço
    que permite interagir com os clusters do GKE On-Prem usando
    o Console do Cloud. Para usar o novo agente do Connect, é necessário
    registrar novamente os clusters com o Console do Cloud ou fazer upgrade
    para o Anthos GKE On-Prem Beta-1.4.
     </p>
     <p>
      Os clusters locais do GKE e as cargas de trabalho em execução continuarão
    funcionando sem interrupções. No entanto, seus clusters não estarão visíveis no
    Console do Cloud até que você os registre novamente ou faça upgrade para a versão Beta-1.4.
     </p>
     <p>
      Antes de registrar novamente ou fazer upgrade, verifique se a conta de serviço tem
    o papel
      <code dir="ltr" translate="no">
       gkehub.connect
      </code>
      . Além disso, se sua conta de serviço tiver o papel de
    clusterregistry.connect antigo, remova-o.
     </p>
     <p>
      Conceda à conta de serviço o papel gkehub.connect:
     </p>
     <pre class="devsite-click-to-copy" dir="ltr" translate="no">gcloud projects add-iam-policy-binding <var class="edit" translate="no">[PROJECT_ID]</var> \
      --member="serviceAccount:<var class="edit" translate="no">[SERVICE_ACCOUNT_NAME]</var>@<var class="edit" translate="no">[PROJECT_ID]</var>.iam.gserviceaccount.com" \
      --role="roles/gkehub.connect"</pre>
     <p>
      Se a conta de serviço tiver o papel
      <code dir="ltr" translate="no">
       clusterregistry.connect
      </code>
      antigo, remova-o:
     </p>
     <pre class="devsite-click-to-copy" dir="ltr" translate="no">gcloud projects remove-iam-policy-binding <var class="edit" translate="no">[PROJECT_ID]</var> \
      --member="serviceAccount:<var class="edit" translate="no">[SERVICE_ACCOUNT_NAME]</var>@<var class="edit" translate="no">[PROJECT_ID]</var>.iam.gserviceaccount.com" \
      --role="roles/clusterregistry.connect"</pre>
     <p>
      Registre seu cluster novamente ou faça upgrade para o Anthos GKE On-Prem Beta-1.4.
     </p>
     <p>
      Para
      <a href="https://cloud.google.com/kubernetes-engine/connect/updating-agent?hl=pt-br">
       registrar novamente o cluster
      </a>
      :
     </p>
     <pre class="devsite-click-to-copy" dir="ltr" translate="no">gcloud alpha container hub register-cluster <var class="edit" translate="no">[CLUSTER_NAME]</var> \
      --context=<var class="edit" translate="no">[USER_CLUSTER_CONTEXT]</var> \
      --service-account-key-file=<var class="edit" translate="no">[LOCAL_KEY_PATH]</var> \
      --kubeconfig-file=<var class="edit" translate="no">[KUBECONFIG_PATH]</var> \
      --project=<var class="edit" translate="no">[PROJECT_ID]</var></pre>
     <p>
      Para
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/beta-1.4/how-to/administration/upgrading-a-cluster?hl=pt-br">
       fazer upgrade para o Anthos GKE On-Prem beta-1.4
      </a>
      :
     </p>
     <pre class="devsite-click-to-copy" dir="ltr" translate="no">gkectl upgrade --kubeconfig [ADMIN_CLUSTER_KUBECONFIG]</pre>
    </div>
    <h3 data-text="Problemas conhecidos" id="known-issues_1" tabindex="0">
     Problemas conhecidos
    </h3>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Há um problema que impede que o agente do Connect seja
  atualizado para a nova versão durante um upgrade. Para contornar esse problema,
  execute o seguinte comando depois de fazer upgrade de um cluster:
     </p>
     <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl delete pod gke-connect-agent-install -n gke-connect</pre>
    </div>
    <h2 data-text="13 de maio de 2019" id="may_13_2019" tabindex="0">
     13 de maio de 2019
    </h2>
    <h3 data-text="Problemas conhecidos" id="known-issues_2" tabindex="0">
     Problemas conhecidos
    </h3>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Os clusters atualizados da versão beta-1.2 para beta-1.3 podem ser afetados por um
problema conhecido que danifica o arquivo de configuração do cluster e impede futuras
atualizações do cluster. Esse problema afeta todos os upgrades futuros do cluster.
     </p>
     <p>
      Para resolver esse problema, exclua e recrie os clusters atualizados
  da versão Beta-1.2 para Beta-1.3.
     </p>
     <p>
      Para resolver o problema sem excluir e recriar o cluster, é necessário
  recodificar e aplicar os secrets de cada cluster. Siga as etapas abaixo:
     </p>
     <ol>
      <li>
       Receba o conteúdo dos secrets
       <code dir="ltr" translate="no">
        create-config
       </code>
       armazenados no
    cluster de administrador. Isso precisa ser feito para o secret
       <code dir="ltr" translate="no">
        create-config
       </code>
       no namespace kube-system e para as secrets
       <code dir="ltr" translate="no">
        create-config
       </code>
       no namespace de cada cluster de usuário:
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl get secret create-config -n kube-system -o jsonpath={.data.cfg} | base64 -d &gt; kube-system_create_secret.yaml</pre>
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl get secret create-config -n <var translate="no">[USER_CLUSTER_NAME]</var> -o jsonpath={.data.cfg} | base64 -d &gt; <var translate="no">[USER_CLUSTER_NAME]</var>_create_secret.yaml</pre>
      </li>
      <li>
       Para cada cluster de usuário, abra o
    arquivo
       <code dir="ltr" translate="no">
        <var translate="no">
         [USER_CLUSTER_NAME]
        </var>
        _create_secret.yaml
       </code>
       em um
    editor. Se os valores de
       <code dir="ltr" translate="no">
        registerserviceaccountkey
       </code>
       e
       <code dir="ltr" translate="no">
        connectserviceaccountkey
       </code>
       não forem
       <code dir="ltr" translate="no">
        REDACTED
       </code>
       , nenhuma
    ação adicional será necessária: os Secrets não precisam ser recodificados e
    gravados no cluster.
      </li>
      <li>
       Abra o arquivo
       <code dir="ltr" translate="no">
        create_config.yaml
       </code>
       original em outro editor.
      </li>
      <li>
       Em
       <code dir="ltr" translate="no">
        <var translate="no">
         [USER_CLUSTER_NAME]
        </var>
        _create_secret.yaml
       </code>
       ,
    substitua os valores
       <code dir="ltr" translate="no">
        registerserviceaccountkey
       </code>
       e
       <code dir="ltr" translate="no">
        connectserviceaccountkey
       </code>
       pelos valores do
    arquivo
       <code dir="ltr" translate="no">
        create_config.yaml
       </code>
       original. Salve o arquivo alterado.
      </li>
      <li>
       Repita as etapas 3 a 5 para cada
       <code dir="ltr" translate="no">
        <var translate="no">
         [USER_CLUSTER_NAME]
        </var>
        _create_secret.yaml
       </code>
       e para o arquivo
       <code dir="ltr" translate="no">
        kube-system_create_secret.yaml
       </code>
       .
      </li>
      <li>
       Codifique em Base64 cada
    arquivo
       <code dir="ltr" translate="no">
        <var translate="no">
         [USER_CLUSTER_NAME]
        </var>
        _create_secret.yaml
       </code>
       e
    o arquivo
       <code dir="ltr" translate="no">
        kube-system_create_secret.yaml
       </code>
       :
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">cat <var translate="no">[USER_CLUSTER_NAME]</var>_create_secret.yaml | base64 &gt; <var translate="no">[USER_CLUSTER_NAME]</var>_create_secret_create_secret.b64</pre>
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">cat kube-system-cluster_create_secret.yaml | base64 &gt;kube-system-cluster_create_secret.b64</pre>
      </li>
      <li>
       Substitua o campo
       <code dir="ltr" translate="no">
        data[cfg]
       </code>
       em cada Secret no cluster
    pelo conteúdo do arquivo correspondente:
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl edit secret create-config -n <var class="edit" translate="no">[USER_CLUSTER_NAME]</var>

  # kubectl edit opens the file in the shell's default text editor
  # Open `first-user-cluster_create_secret.b64` in another editor, and replace
  # the `cfg` value with the copied value
  # Make sure the copied string has no newlines in it!</pre>
      </li>
      <li>
       Repita a etapa 8 para cada Secret
       <code dir="ltr" translate="no">
        <var translate="no">
         [USER_CLUSTER_NAME]
        </var>
        _create_secret.yaml
       </code>
       e para o Secret
       <code dir="ltr" translate="no">
        kube-system_create_secret.yaml
       </code>
       .
      </li>
      <li>
       Para garantir que a atualização foi bem-sucedida, repita a etapa 1.
      </li>
     </ol>
    </div>
    <h2 data-text="7 de maio de 2019" id="may_7_2019" tabindex="0">
     7 de maio de 2019
    </h2>
    <p>
     A versão Beta 1.4.1 do GKE On-Prem está disponível. Esta versão
  inclui as seguintes alterações:
    </p>
    <h3 data-text="Novos recursos" id="new-features_4" tabindex="0">
     Novos recursos
    </h3>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      No comando
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/beta-1.4/how-to/administration/diagnose?hl=pt-br#capture_admin">
       <code dir="ltr" translate="no">
        gkectl diagnose snapshot
       </code>
      </a>
      ,
    o parâmetro
      <code dir="ltr" translate="no">
       --admin-ssh-key-path
      </code>
      agora é opcional.
     </p>
    </div>
    <h3 data-text="Alterações" id="changes_4" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Em 8 de maio de 2019, introduzimos uma alteração no Connect, o serviço
    que permite interagir com os clusters do GKE On-Prem usando
    o Console do Cloud. Para usar o novo agente do Connect, é necessário
    registrar novamente os clusters com o Console do Cloud ou fazer upgrade
    para o Anthos GKE On-Prem Beta-1.4.
     </p>
     <p>
      Os clusters locais do GKE e as cargas de trabalho em execução continuarão
    funcionando sem interrupções. No entanto, seus clusters não estarão visíveis no
    Console do Cloud até que você os registre novamente ou faça upgrade para a versão Beta-1.4.
     </p>
     <p>
      Antes de registrar novamente ou fazer upgrade, verifique se a conta de serviço tem
    o papel gkehub.connect. Além disso, se a conta de serviço tiver o papel
    clusterregistry.connect antigo, remova-o.
     </p>
     <p>
      Conceda à conta de serviço o papel gkehub.connect:
     </p>
     <pre class="devsite-click-to-copy" dir="ltr" translate="no">gcloud projects add-iam-policy-binding <var class="edit" translate="no">[PROJECT_ID]</var> \
      --member="serviceAccount:<var class="edit" translate="no">[SERVICE_ACCOUNT_NAME]</var>@<var class="edit" translate="no">[PROJECT_ID]</var>.iam.gserviceaccount.com" \
      --role="roles/gkehub.connect"</pre>
     <p>
      Se a conta de serviço tiver o papel clusterregistry.connect antigo, remova
    o papel antigo:
     </p>
     <pre class="devsite-click-to-copy" dir="ltr" translate="no">gcloud projects remove-iam-policy-binding <var class="edit" translate="no">[PROJECT_ID]</var> \
      --member="serviceAccount:<var class="edit" translate="no">[SERVICE_ACCOUNT_NAME]</var>@<var class="edit" translate="no">[PROJECT_ID]</var>.iam.gserviceaccount.com" \
      --role="roles/clusterregistry.connect"</pre>
     <p>
      Registre seu cluster novamente ou faça upgrade para o Anthos GKE On-Prem Beta-1.4.
     </p>
     <p>
      Para
      <a href="https://cloud.google.com/kubernetes-engine/connect/updating-agent?hl=pt-br">
       registrar novamente seu cluster
      </a>
      :
     </p>
     <pre class="devsite-click-to-copy" dir="ltr" translate="no">gcloud alpha container hub register-cluster <var class="edit" translate="no">[CLUSTER_NAME]</var> \
      --context=<var class="edit" translate="no">[USER_CLUSTER_CONTEXT]</var> \
      --service-account-key-file=<var class="edit" translate="no">[LOCAL_KEY_PATH]</var> \
      --kubeconfig-file=<var class="edit" translate="no">[KUBECONFIG_PATH]</var> \
      --project=<var class="edit" translate="no">[PROJECT_ID]</var></pre>
     <p>
      Para
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/beta-1.4/how-to/administration/upgrading-a-cluster?hl=pt-br">
       fazer upgrade para o Anthos GKE On-Prem beta-1.4
      </a>
      :
     </p>
     <pre class="devsite-click-to-copy" dir="ltr" translate="no">gkectl upgrade --kubeconfig [ADMIN_CLUSTER_KUBECONFIG]</pre>
    </div>
    <h3 data-text="Problemas conhecidos" id="known-issues_3" tabindex="0">
     Problemas conhecidos
    </h3>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Há um problema que impede que o agente do Connect seja
   atualizado para a nova versão durante um upgrade. Para contornar esse problema,
   execute o seguinte comando depois de fazer upgrade de um cluster:
     </p>
     <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl delete pod gke-connect-agent-install -n gke-connect</pre>
    </div>
    <h2 data-text="25 de abril de 2019" id="april_25_2019" tabindex="0">
     25 de abril de 2019
    </h2>
    <p>
     A versão 1.3.1 do GKE Beta local já está disponível. Esta versão
  inclui as seguintes alterações:
    </p>
    <h3 data-text="Novos recursos" id="new-features_5" tabindex="0">
     Novos recursos
    </h3>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      O comando
      <code dir="ltr" translate="no">
       gkectl diagnose snapshot
      </code>
      agora tem uma
    sinalização
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/beta-1.3/how-to/administration/diagnose?hl=pt-br#performing_a_dry_run_for_a_snapshot">
       <code dir="ltr" translate="no">
        --dry-run
       </code>
      </a>
      .
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      O comando
      <code dir="ltr" translate="no">
       gkectl diagnose snapshot
      </code>
      agora é compatível com quatro
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/beta-1.3/how-to/administration/diagnose?hl=pt-br#snapshot_scenarios">
       cenários
      </a>
      .
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      O comando
      <code dir="ltr" translate="no">
       gkectl diagnose snapshot
      </code>
      agora é compatível com expressões
    regulares para especificar namespaces.
     </p>
    </div>
    <h3 data-text="Alterações" id="changes_5" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      O Istio 1.1 agora é o
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/beta-1.3/how-to/administration/upgrading-a-cluster?hl=pt-br#upgrading_the_ingress_controller">
       controlador de entrada
      </a>
      padrão.
    O controlador de entrada é executado no namespace
      <code dir="ltr" translate="no">
       gke-system
      </code>
      para
    clusters de administradores e usuários. Isso facilita o gerenciamento do TLS para o
    Ingress. Para ativar a entrada ou reativar a entrada após um upgrade,
    siga as instruções em
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/beta-1.3/how-to/installation/install?hl=pt-br#enabling_ingress">
       Como ativar a entrada
      </a>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      A ferramenta
      <code dir="ltr" translate="no">
       gkectl
      </code>
      não usa mais o Minikube e o KVM para bootstrap. Isso
  significa que você não precisa ativar a virtualização aninhada na VM
  da estação de trabalho do administrador.
     </p>
    </div>
    <h3 data-text="Problemas conhecidos" id="known-issues_4" tabindex="0">
     Problemas conhecidos
    </h3>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      O controlador de entrada do GKE On-Prem usa o Istio 1.1 com descoberta
  automática de Secrets. No entanto, o agente do nó para descoberta de Secrets pode falhar
  ao receber atualizações de Secrets após a exclusão de um. Portanto, evite excluir secrets. Se você
  precisar excluir um secret e o TLS do Ingress falhar posteriormente, reinicie manualmente
  o pod do Ingress no namespace gke-system.
     </p>
    </div>
    <h2 data-text="11 de abril de 2019" id="april_11_2019" tabindex="0">
     11 de abril de 2019
    </h2>
    <p>
     A versão Beta 1.2.1 do GKE On-Prem está disponível. Esta versão
  inclui as seguintes alterações:
    </p>
    <h3 data-text="Novos recursos" id="new-features_6" tabindex="0">
     Novos recursos
    </h3>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora, os clusters do GKE On-Prem se conectam automaticamente ao Google
  usando o
      <a href="https://cloud.google.com/kubernetes-engine/connect?hl=pt-br">
       Connect
      </a>
      .
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora é possível executar até três planos de controle por cluster de usuário.
     </p>
    </div>
    <h3 data-text="Alterações" id="changes_6" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      <code dir="ltr" translate="no">
       gkectl
      </code>
      agora valida credenciais do vSphere e F5 BIG-IP
    criando clusters.
     </p>
    </div>
    <h3 data-text="Problemas conhecidos" id="known-issues_5" tabindex="0">
     Problemas conhecidos
    </h3>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Uma regressão faz com que os comandos
      <code dir="ltr" translate="no">
       gkectl diagnose snapshot
      </code>
      usem
a chave SSH errada, o que impede o comando de coletar informações
dos clusters de usuários. Como alternativa em casos de suporte, pode ser necessário executar SSH em
nós de cluster de usuários individuais e coletar dados manualmente.
     </p>
    </div>
    <h2 data-text="2 de abril de 2019" id="april_2_2019" tabindex="0">
     2 de abril de 2019
    </h2>
    <p>
     A versão Beta 1.1.1 do GKE On-Prem já está disponível. Esta versão
  inclui as seguintes alterações:
    </p>
    <h3 data-text="Novos recursos" id="new-features_7" tabindex="0">
     Novos recursos
    </h3>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Instale o GKE On-Prem com um
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/beta-1.1/how-to/installation/getting-started?hl=pt-br#download_ova">
       Open Virtual Appliance (OVA)
      </a>
      ,
  uma imagem de máquina virtual pré-configurada que inclui várias ferramentas de interface
  de linha de comando. Essa alteração facilita
  as instalações e remove uma camada de virtualização. Não é mais
  necessário executar
      <code dir="ltr" translate="no">
       gkectl
      </code>
      dentro de um contêiner do Docker.
     </p>
     <p>
      Se você instalou o GKE On-prem versões anteriores à versão Beta-1.1.1, é
  preciso criar uma nova estação de trabalho de administrador seguindo as instruções documentadas.
  Depois de instalar a nova estação de trabalho de administrador, copie todas as chaves SSH,
  arquivos de configuração, kubeconfigs e outros arquivos necessários da
  estação de trabalho anterior para a nova.
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Foi adicionada documentação para
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/beta-1.1/how-to/administration/backing-up?hl=pt-br">
       fazer backup e restaurar clusters
      </a>
      .
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora é possível configurar a autenticação para clusters usando o OIDC e ADFS.
  Para saber mais, consulte
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/beta-1.1/how-to/security/oidc-adfs?hl=pt-br">
       Como autenticar com OIDC e ADFS
      </a>
      e
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/concepts/authentication?hl=pt-br">
       Autenticação
      </a>
      .
     </p>
    </div>
    <h3 data-text="Alterações" id="changes_7" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Agora você precisa usar a chave privada de um cluster de administrador para executar
      <code dir="ltr" translate="no">
       gkectl diagnose snapshot
      </code>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Adição de uma opção de configuração durante a instalação para implantar clusters de usuários
  de vários mestres.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      A
      <a href="https://cloud.google.com/kubernetes-engine/connect?hl=pt-br">
       documentação do Connect
      </a>
      foi migrada.
     </p>
    </div>
    <h3 data-text="Correções" id="fixes_1" tabindex="0">
     Correções
    </h3>
    <div class="release-fixed">
     <strong>
      FIXED:
     </strong>
     <p>
      Correção de um problema em que a rede do cluster era interrompida quando um nó
era removido inesperadamente.
     </p>
    </div>
    <h3 data-text="Problemas conhecidos" id="known-issues_6" tabindex="0">
     Problemas conhecidos
    </h3>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      O gerenciamento de configuração do GKE On-Prem foi atualizado da
  versão 0.11 para 0.13. Vários componentes do sistema foram renomeados.
  É necessário seguir algumas etapas para limpar os recursos das versões anteriores e
  instalar uma nova instância.
     </p>
     <p>
      Se você tiver uma instância ativa do gerenciamento de configuração siga estas etapas:
     </p>
     <ol>
      <li>
       <p>
        Desinstale a instância:
       </p>
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl -n=nomos-system delete nomos --all</pre>
      </li>
      <li>
       <p>
        Verifique se o namespace da instância não tem recursos:
       </p>
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl -n nomos-system get all</pre>
      </li>
      <li>
       <p>
        Exclua o namespace:
       </p>
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl delete ns nomos-system</pre>
      </li>
      <li>
       <p>
        Exclua a CRD:
       </p>
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl delete crd nomos.addons.sigs.k8s.io</pre>
      </li>
      <li>
       <p>
        Exclua todos os recursos kube-system para o operador:
       </p>
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl -n kube-system delete all -l k8s-app=nomos-operator</pre>
      </li>
     </ol>
     <p>
      Se você não tiver uma instância ativa do gerenciamento de configuração siga estas etapas:
     </p>
     <ol>
      <li>
       <p>
        Exclua o namespace de gerenciamento de configuração:
       </p>
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl delete ns nomos-system</pre>
      </li>
      <li>
       <p>
        Exclua a CRD:
       </p>
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl delete crd nomos.addons.sigs.k8s.io</pre>
      </li>
      <li>
       <p>
        Exclua todos os recursos kube-system para o operador:
       </p>
       <pre class="devsite-click-to-copy" dir="ltr" translate="no">kubectl -n kube-system delete all -l k8s-app=nomos-operator</pre>
      </li>
     </ol>
    </div>
    <h2 data-text="12 de março de 2019" id="march_12_2019" tabindex="0">
     12 de março de 2019
    </h2>
    <p>
     A versão Beta 1.0.3 do GKE On-Prem está disponível. Esta versão
  inclui as seguintes alterações:
    </p>
    <h3 data-text="Correções" id="fixes_2" tabindex="0">
     Correções
    </h3>
    <div class="release-fixed">
     <strong>
      FIXED:
     </strong>
     <p>
      Correção de um problema que fazia com que os certificados do Docker fossem salvos no local errado.
     </p>
    </div>
    <h2 data-text="4 de março de 2019" id="march_4_2019" tabindex="0">
     4 de março de 2019
    </h2>
    <p>
     A versão Beta 1.0.2 do GKE On-Prem está disponível. Esta versão
  inclui as seguintes alterações:
    </p>
    <h3 data-text="Novos recursos" id="new-features_8" tabindex="0">
     Novos recursos
    </h3>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora é possível executar
      <code dir="ltr" translate="no">
       gkectl version
      </code>
      para verificar qual versão do
      <code dir="ltr" translate="no">
       gkectl
      </code>
      você está executando.
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora é possível
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/beta-1.0/how-to/administration/upgrading-a-cluster?hl=pt-br">
       fazer upgrade de clusters de usuários
      </a>
      para versões Beta futuras.
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      A versão 0.11.6 do
      <a href="https://cloud.google.com/anthos-config-management/docs?hl=pt-br">
       Anthos Config Management
      </a>
      já está disponível.
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      O Stackdriver Logging agora está ativado em cada nó. Por padrão, o agente de geração de registros
    replica os registros no seu projeto do GCP apenas para serviços de plano de controle,
    API de cluster, controlador do vSphere, Calico, controlador BIG-IP, proxy Envoy,
    Connect, Anthos Config Management, serviços Prometheus e Grafana,
    plano de controle do Istio e Docker. Os registros de contêiner do aplicativo são excluídos
    por padrão, mas podem ser ativados opcionalmente.
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      O sidecar do Stackdriver Prometheus captura métricas para os mesmos componentes que o agente de geração de registros.
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      As
      <a href="https://kubernetes.io/docs/concepts/services-networking/network-policies/">
       políticas de rede do Kubernetes
      </a>
      agora são compatíveis.
     </p>
    </div>
    <h3 data-text="Alterações" id="changes_8" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Agora é possível atualizar os blocos de IP na especificação do cluster para expandir o
    intervalo de IP de um determinado cluster.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Se os clusters instalados durante a versão Alfa forem desconectados do Google após
  a versão Beta, talvez seja necessário conectá-los novamente. Consulte
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/latest/how-to/installation/registering-a-user-cluster?hl=pt-br">
       Como registrar manualmente um cluster de usuário
      </a>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Os
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/latest/how-to/installation/getting-started?hl=pt-br">
       Primeiros passos
      </a>
      foram atualizados com as etapas para ativar sua conta de serviço e
    executar
      <code dir="ltr" translate="no">
       gkectl prepare
      </code>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      <code dir="ltr" translate="no">
       gkectl diagnose snapshot
      </code>
      agora coleta apenas dados de configuração
  e exclui registros.  Essa ferramenta é usada para capturar detalhes do ambiente
  antes de abrir um caso de suporte.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Suporte para configuração de nome do pool SNAT opcional para o F5 BIG-IP no momento da criação do cluster.
     Pode ser usado para configurar o valor "--vs-snat-pool-name" no
      <a class="external" href="https://clouddocs.f5.com/products/connectors/k8s-bigip-ctlr/v1.8/">
       controlador F5 BIG-IP
      </a>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Agora você precisa fornecer um VIP para os complementos executados no cluster de administrador.
     </p>
    </div>
    <h3 data-text="Correções" id="fixes_3" tabindex="0">
     Correções
    </h3>
    <div class="release-fixed">
     <strong>
      FIXED:
     </strong>
     <p>
      As operações de redimensionamento de cluster foram aprimoradas para evitar a exclusão acidental de nós.
     </p>
    </div>
    <h2 data-text="7 de fevereiro de 2019" id="february_7_2019" tabindex="0">
     7 de fevereiro de 2019
    </h2>
    <p>
     A versão Alfa 1.3 do GKE On-Prem já está disponível. Esta versão
  inclui as seguintes alterações:
    </p>
    <h3 data-text="Novos recursos" id="new-features_9" tabindex="0">
     Novos recursos
    </h3>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Durante a instalação, é possível fornecer arquivos YAML com blocos
      <code dir="ltr" translate="no">
       nodeip
      </code>
      para configurar o IPAM estático.
     </p>
    </div>
    <h3 data-text="Alterações" id="changes_9" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Agora você precisa provisionar um disco de 100 GB no Datastore do vSphere.
    O GKE On-Prem usa o disco para armazenar alguns dos dados vitais dele,
    como etcd. Consulte os
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/requirements?hl=pt-br">
       requisitos do sistema
      </a>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Agora, só é possível fornecer nomes de host em letras minúsculas a
    blocos
      <code dir="ltr" translate="no">
       nodeip
      </code>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      O GKE On-Prem agora aplica nomes exclusivos para clusters de usuários.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Endpoints de métricas e APIs que usam endpoints do Istio agora são protegidos com
mTLS e controle de acesso baseado em papéis.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      A comunicação externa do Grafana está desativada.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Melhorias na verificação de integridade do Prometheus e do Alertmanager.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Agora, o Prometheus usa a porta segura para coletar métricas.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Várias atualizações nos painéis do Grafana.
     </p>
    </div>
    <h3 data-text="Problemas conhecidos" id="known-issues_7" tabindex="0">
     Problemas conhecidos
    </h3>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Se a conta de usuário do vCenter usar um formato como
      <code dir="ltr" translate="no">
       DOMAIN\USER
      </code>
      , talvez seja necessário evitar a barra invertida (
      <code dir="ltr" translate="no">
       DOMAIN\\USER
      </code>
      ). Faça isso quando solicitado a inserir a conta de
usuário durante a instalação.
     </p>
    </div>
    <h2 data-text="23 de janeiro de 2019" id="january_23_2019" tabindex="0">
     23 de janeiro de 2019
    </h2>
    <p>
     A versão Alfa 1.2.1 do GKE On-Prem já está disponível. Esta versão
  inclui as seguintes alterações:
    </p>
    <h3 data-text="Novos recursos" id="new-features_10" tabindex="0">
     Novos recursos
    </h3>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora é possível usar
      <code dir="ltr" translate="no">
       gkectl
      </code>
      para
      <a href="https://cloud.google.com/anthos/gke/docs/on-prem/archive/1.0/latest/how-to/administration/deleting-an-admin-cluster?hl=pt-br">
       excluir clusters de administrador
      </a>
     </p>
     .
    </div>
    <h3 data-text="Alterações" id="changes_10" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Agora, os comandos
      <code dir="ltr" translate="no">
       gkectl diagnose snapshot
      </code>
      permitem especificar
  nós ao capturar snapshots de resultados de comando remoto e arquivos.
     </p>
    </div>
    <h2 data-text="14 de janeiro de 2019" id="january_14_2019" tabindex="0">
     14 de janeiro de 2019
    </h2>
    <p>
     A versão Alfa 1.1.2 do GKE On-Prem está disponível. Esta versão inclui as
    seguintes alterações:
    </p>
    <h3 data-text="Novos recursos" id="new-features_11" tabindex="0">
     Novos recursos
    </h3>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora é possível usar o comando
      <code dir="ltr" translate="no">
       gkectl prepare
      </code>
      para extrair
    e enviar imagens de contêiner do GKE On-Prem, o que suspende o
    uso do script
      <code dir="ltr" translate="no">
       populate_registry.sh
      </code>
      .
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora,
      <code dir="ltr" translate="no">
       gkectl prepare
      </code>
      solicita que você insira informações sobre o
  cluster vSphere e o pool de recursos.
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora é possível usar o comando
      <code dir="ltr" translate="no">
       gkectl create
      </code>
      para criar e adicionar
    clusters de usuários a planos de controle de administrador existentes passando
    um arquivo kubeconfig existente quando solicitado durante a criação do cluster.
     </p>
    </div>
    <div class="release-feature">
     <strong>
      FEATURE:
     </strong>
     <p>
      Agora é possível passar um secret TLS do Ingress para clusters administradores e de usuários
    no momento da criação do cluster. Você verá o seguinte prompt:
     </p>
     <p>
      <code dir="ltr" translate="no">
       Do you want to use TLS for Admin Control Plane/User Cluster ingress?
      </code>
     </p>
     <p>
      O fornecimento do segredo e dos certificados TLS permite que o
      <code dir="ltr" translate="no">
       gkectl
      </code>
      configure o
      TLS de entrada. O HTTP não é desativado automaticamente com a instalação
      do TLS.
     </p>
    </div>
    <h3 data-text="Alterações" id="changes_11" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      O GKE On-Prem agora executa o Kubernetes versão
      <strong>
       1.11.2-gke.19
      </strong>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      A abrangência padrão do GKE On-Prem mudou:
     </p>
     <ul>
      <li>
       <p>
        O requisito mínimo de memória para nós de cluster de usuário agora é de 8.192 MB.
       </p>
      </li>
     </ul>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      O GKE On-Prem agora executa o minikube versão
      <strong>
       0.28.0
      </strong>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      O Gerenciamento de políticas do GKE foi atualizado para a versão
      <strong>
       0.11.1
      </strong>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      O
      <code dir="ltr" translate="no">
       gkectl
      </code>
      não solicita mais que você forneça uma configuração de proxy
  por padrão.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Há três novos recursos do ConfigMap no namespace do cluster de usuários:
      <code dir="ltr" translate="no">
       cluster-api-etcd-metrics-config
      </code>
      ,
      <code dir="ltr" translate="no">
       kube-etcd-metrics-config
      </code>
      e
      <code dir="ltr" translate="no">
       kube-apiserver-config
      </code>
      . O GKE On-Prem usa esses arquivos para
    inicializar rapidamente o contêiner de proxy de métricas.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Os eventos do kube-apiserver agora estão no próprio etcd. É possível ver
    kube-etcd-event no namespace do cluster de usuário.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Os controladores da API do cluster agora usam a eleição de líder.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Agora, as credenciais do vSphere são extraídas de arquivos de credenciais.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Os comandos
      <code dir="ltr" translate="no">
       gkectl diagnose
      </code>
      agora funcionam com clusters de administrador e de
    usuário.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      <code dir="ltr" translate="no">
       gkectl diagnose snapshot
      </code>
      agora pode tirar snapshots de arquivos
    remotos no nó, resultados de comandos remotos nos nós e consultas do
    Prometheus.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      <code dir="ltr" translate="no">
       gkectl diagnose snapshot
      </code>
      agora pode tirar snapshots em várias
    linhas de execução paralelas.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      <code dir="ltr" translate="no">
       gkectl diagnose snapshot
      </code>
      agora permite que você especifique palavras a
    serem excluídas dos resultados do snapshot.
     </p>
    </div>
    <h3 data-text="Correções" id="fixes_4" tabindex="0">
     Correções
    </h3>
    <div class="release-fixed">
     <strong>
      FIXED:
     </strong>
     <p>
      Correção de problemas com o cache do minikube que causavam
    chamadas de rede inesperadas.
     </p>
    </div>
    <div class="release-fixed">
     <strong>
      FIXED:
     </strong>
     <p>
      Corrigido um problema ao extrair credenciais
F5 BIG-IP. Agora, as credenciais são lidas em um arquivo de credenciais em vez de usar variáveis de ambiente.
     </p>
    </div>
    <h3 data-text="Problemas conhecidos" id="known-issues_8" tabindex="0">
     Problemas conhecidos
    </h3>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Talvez você encontre o seguinte aviso
      <a class="external" href="https://github.com/vmware/govmomi">
       <code dir="ltr" translate="no">
        govmomi
       </code>
      </a>
      ao executar
      <code dir="ltr" translate="no">
       gkectl prepare
      </code>
      :
     </p>
     <p>
      <code dir="ltr" translate="no">
       Warning: Line 102: Unable to parse 'enableMPTSupport' for attribute 'key' on element 'Config'
      </code>
     </p>
    </div>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      O redimensionamento de clusters de usuários pode causar
exclusão ou recriação de nós inadvertidos.
     </p>
    </div>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Os PersistentVolumes podem falhar ao ativar, produzindo o
erro
      <code dir="ltr" translate="no">
       devicePath is empty
      </code>
      . Como solução alternativa, exclua e recrie
o PersistentVolumeClaim associado.
     </p>
    </div>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Se estiver usando alocação de IP estático para nós, o redimensionamento
de blocos de endereços IPAM não é compatível com a versão Alfa. Como alternativa, considere
alocar mais endereços IP do que você precisa atualmente.
     </p>
    </div>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Em discos lentos, a criação da VM pode atingir o tempo limite e causar falhas nas implantações. Se
  isso ocorrer, exclua todos os recursos e tente novamente.
     </p>
    </div>
    <h2 data-text="19 de dezembro de 2018" id="december_19_2018" tabindex="0">
     19 de dezembro de 2018
    </h2>
    <p>
     A versão Alfa 1.0.4 do GKE On-Prem está disponível. Esta versão inclui as
    seguintes alterações:
    </p>
    <h3 data-text="Correções" id="fixes_5" tabindex="0">
     Correções
    </h3>
    <div class="release-fixed">
     <strong>
      FIXED:
     </strong>
     <p>
      A vulnerabilidade causada por
      <a class="external" href="https://github.com/kubernetes/kubernetes/issues/71411">
       CVE-2018-1002105
      </a>
      foi corrigida.
     </p>
    </div>
    <h2 data-text="30 de novembro de 2018" id="november_30_2018" tabindex="0">
     30 de novembro de 2018
    </h2>
    <p>
     O GKE On-Prem Alfa 1.0 está disponível. As seguintes alterações estão incluídas
nesta versão:
    </p>
    <h3 data-text="Alterações" id="changes_12" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      O GKE On-Prem Alfa 1.0 executa o Kubernetes 1.11.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      A abrangência padrão do GKE On-Prem mudou:
     </p>
     <ul>
      <li>
       O plano de controle do administrador executa três nós, que usam 4 CPUs e 16 GB de memória.
      </li>
      <li>
       O plano de controle do usuário executa um nó que usa 4 CPUs com 16 GB de memória.
      </li>
      <li>
       Os clusters do usuário executam no mínimo três nós, que usam 4 CPUs e 16 GB de memória.
      </li>
     </ul>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Suporte para configuração do Prometheus de alta disponibilidade.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Suporte para a configuração personalizada do Gerenciador de alertas.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      O Prometheus foi atualizado de
      <strong>
       2.3.2
      </strong>
      para
      <strong>
       2.4.3
      </strong>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      O Grafana foi atualizado do
      <strong>
       5.0.4
      </strong>
      para o
      <strong>
       5.3.4
      </strong>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      O kube-state-metrics foi atualizado de
      <strong>
       1.3.1
      </strong>
      para
      <strong>
       1.4.0
      </strong>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      O Gerenciador de alertas foi atualizado de
      <strong>
       1.14.0
      </strong>
      para
      <strong>
       1.15.2
      </strong>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      O node_export foi atualizado de
      <strong>
       1.15.2
      </strong>
      para
      <strong>
       1.16.0
      </strong>
      .
     </p>
    </div>
    <h3 data-text="Correções" id="fixes_6" tabindex="0">
     Correções
    </h3>
    <div class="release-fixed">
     <strong>
      FIXED:
     </strong>
     <p>
      A vulnerabilidade causada por
      <a class="external" href="https://github.com/kubernetes/minikube/issues/3208">
       CVE-2018-1002103
      </a>
      foi corrigida.
     </p>
    </div>
    <h3 data-text="Problemas conhecidos" id="known-issues_9" tabindex="0">
     Problemas conhecidos
    </h3>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Os PersistentVolumes podem falhar ao ativar, produzindo o
erro
      <code dir="ltr" translate="no">
       devicePath is empty
      </code>
      . Como solução alternativa, exclua e recrie
o PersistentVolumeClaim associado.
     </p>
    </div>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Se estiver usando alocação de IP estático para nós, o redimensionamento
de blocos de endereços IPAM não é compatível com a versão Alfa. Como alternativa, considere
alocar mais endereços IP do que você precisa atualmente.
     </p>
    </div>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      O GKE On-Prem Alfa 1.0 ainda não passou em todos
os testes de conformidade.
     </p>
    </div>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Somente um cluster de usuário por cluster de administrador pode ser
  criado. Para criar clusters de usuário adicionais, crie outro cluster de
  administrador.
     </p>
    </div>
    <h2 data-text="31 de outubro de 2018" id="october_31_2018" tabindex="0">
     31 de outubro de 2018
    </h2>
    <p>
     A versão 2.1 do EAP do GKE On-Prem já está disponível. As seguintes alterações estão incluídas
nesta versão:
    </p>
    <h3 data-text="Alterações" id="changes_13" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Ao criar clusters de administrador e de usuário ao
  mesmo tempo, agora é possível reutilizar as credenciais F5 BIG-IP do cluster de administrador para
  criar o cluster de usuário. Além disso, a CLI agora requer que as credenciais BIG-IP sejam
  fornecidas. Esse requisito não pode ser ignorado usando
      <code dir="ltr" translate="no">
       --dry-run
      </code>
      .
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Upgrade do controlador F5 BIG-IP para usar a versão mais recente do OSS, 1.7.0.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Para melhorar a estabilidade de máquinas lentas do vSphere, o tempo limite de criação da máquina do cluster agora é de 15 minutos (anteriormente cinco minutos).
     </p>
    </div>
    <h2 data-text="17 de outubro 2018" id="october_17_2018" tabindex="0">
     17 de outubro 2018
    </h2>
    <p>
     O EAP 2.0 do GKE On-Prem já está disponível. As seguintes alterações estão incluídas
nesta versão:
    </p>
    <h3 data-text="Alterações" id="changes_14" tabindex="0">
     Alterações
    </h3>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Suporte para o GKE Connect.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Suporte para o Monitoring.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Suporte para instalação usando registros particulares.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Suporte para front-end do balanceador de carga L7 como um VIP L4 no F5 BIG-IP.
     </p>
    </div>
    <div class="release-changed">
     <strong>
      CHANGED:
     </strong>
     <p>
      Suporte para alocação de IP estático para nós durante a inicialização do cluster.
     </p>
    </div>
    <h3 data-text="Problemas conhecidos" id="known-issues_10" tabindex="0">
     Problemas conhecidos
    </h3>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Somente um cluster de usuário por cluster de administrador pode ser criado. Para criar
  clusters de usuário adicionais, crie outro cluster de administrador.
     </p>
    </div>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Os upgrades de cluster não são compatíveis com o EAP 2.0.
     </p>
    </div>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Em discos lentos, a criação da VM pode atingir o tempo limite e causar falhas nas implantações. Se
  isso ocorrer, exclua todos os recursos e tente novamente.
     </p>
    </div>
    <div class="release-issue">
     <strong>
      ISSUE:
     </strong>
     <p>
      Como parte do processo de inicialização do cluster, uma instância de minikube de curta
        duração é executada. A versão do minikube usada tem vulnerabilidade de segurança
      <a class="external" href="https://github.com/kubernetes/minikube/issues/3208">
       CVE-2018-1002103
      </a>
      .
     </p>
    </div>
   </section>
  </div>
 </article>
</article>