<article class="devsite-article">
 <article class="devsite-article-inner">
  <div background="teal" class="devsite-banner devsite-banner-announcement">
   <div class="devsite-banner-message">
    <div class="devsite-banner-message-text">
     <p>
      <strong>
       NOTE:
      </strong>
      Some aspects of this product are in Beta. The hybrid installation options are GA. To join the Beta program, reach out to your Apigee representative.
     </p>
    </div>
   </div>
  </div>
  <h1 class="devsite-page-title">
   1.2.0 - Notas de la versión del entorno de ejecución híbrido de Apigee
  </h1>
  <devsite-toc class="devsite-nav" devsite-toc-embedded="">
  </devsite-toc>
  <div class="devsite-article-body clearfix">
   <p>
    El 3 de abril de 2020, lanzamos la versión 1.2.0 del entorno de ejecución híbrido de Apigee.
   </p>
   <aside class="objective">
    Para obtener más información, consulta los siguientes recursos:
    <ul>
     <li>
      <em>
       <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/what-is-hybrid?hl=es-419">
        Más información sobre los híbridos
       </a>
      </em>
      o
      <em>
       <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/big-picture?hl=es-419">
        Comenzar la instalación
       </a>
      </em>
     </li>
     <li>
      <em>
       Crea una cuenta paga:
      </em>
      Comunícate con las
      <a href="https://pages.apigee.com/contact-sales-reg.html?hl=es-419">
       ventas de Apigee
      </a>
     </li>
     <li>
      <em>
       ¿Preguntas o problemas?
      </em>
      Comunícate con el
      <a class="external" href="https://cloud.google.com/apigee/support/?hl=es-419">
       equipo de asistencia de Apigee
      </a>
     </li>
    </ul>
   </aside>
   <section class="expandable">
    <h4 class="showalways" data-text="Ayuda y notificaciones" id="help-notifications" tabindex="0">
     Ayuda y notificaciones
    </h4>
    <div class="note">
     <p>
      <strong>
       ¿Preguntas o problemas?
      </strong>
      <a href="https://cloud.google.com/apigee/support/?hl=es-419">
       Haz clic aquí para obtener ayuda.
      </a>
     </p>
     <p>
      <strong>
       Notificaciones de la versión
      </strong>
      : Ve a
      <a href="http://status.apigee.com?hl=es-419">
       http://status.apigee.com
      </a>
      y haz clic en
      <strong>
       Suscribirse a actualizaciones
      </strong>
      .
     </p>
     <p>
      <a href="https://cloud.google.com/apigee/docs/release/notes/apigee-release-notes?hl=es-419">
       Página principal de las notas de la versión
      </a>
     </p>
    </div>
   </section>
   <h2 data-text="Actualiza" id="upgrading" tabindex="0">
    Actualiza
   </h2>
   <aside class="warning">
    Para actualizar de la versión 1.1.1 a 1.2.0, debes realizar cambios en tu archivo de anulación que sean incompatibles con la versión 1.1.1. Realizar estos cambios en el archivo de anulaciones es un requisito previo para realizar la actualización. La configuración nueva corrige un problema en el que, en algunos casos, las llamadas a la API se enrutan al entorno incorrecto.
  Para obtener más detalles, consulta
    <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/upgrade?hl=es-419">
     Actualiza Apigee Hybrid
    </a>
    .
   </aside>
   <h2 data-text="Nuevas funciones y actualizaciones" id="new-features-and-updates" tabindex="0">
    Nuevas funciones y actualizaciones
   </h2>
   <p>
    A continuación, se incluyen las nuevas funciones y actualizaciones de esta versión.
   </p>
   <h3 data-text="Se agregó una nueva configuración del host virtual para especificar las reglas de enrutamiento." id="a-new-virtual-host-configuration-was-added-to-specify-routing-rules" tabindex="0">
    Se agregó una nueva configuración de host virtual para especificar reglas de enrutamiento
   </h3>
   <p>
    La nueva función de configuración
    <code dir="ltr" translate="no">
     virtualhosts
    </code>
    aborda un problema en el que el orden en que las rutas base se enrutaron a varios entornos no era seguro. Para obtener más información, consulta
    <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/base-path-routing?hl=es-419">
     Cómo configurar hosts virtuales
    </a>
    . (150336519)
   </p>
   <h3 data-text="Versión Beta de la política OASValidation" id="beta-release-of-the-oasvalidation-policy" tabindex="0">
    Versión Beta de la política OASValidation
   </h3>
   <p>
    La política OASValidation (OpenAPI Specification Validation) (Beta) te permite validar una solicitud entrante o un mensaje de respuesta en una especificación OpenAPI 3.0 (JSON o YAML).
  Para obtener más información, consulta la
    <a href="https://cloud.google.com/apigee/docs/api-platform/reference/policies/oas-validation-policy?hl=es-419">
     Política de OASValidación (Beta)
    </a>
    . (144949685)
   </p>
   <h3 data-text="Versión Beta de la compatibilidad con WebSocket" id="beta-release-of-websocket-support" tabindex="0">
    Versión Beta de la compatibilidad con WebSocket
   </h3>
   <p>
    Apigee Hybrid admite conexiones de WebSocket. Los clientes de proxy de API ahora pueden solicitar una actualización del protocolo de HTTP a WebSockets.
  Para obtener más información, consulta
    <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/websockets?hl=es-419">
     Usa WebSockets (Beta)
    </a>
    .
   </p>
   <h3 data-text="Accede a valores de secretos de la política desde los secretos de Kubernetes" id="accessing-policy-secret-values-from-kubernetes-secrets" tabindex="0">
    Accede a los valores secretos de las políticas desde los secretos de Kubernetes
   </h3>
   <p>
    Una nueva función te permite acceder a los valores almacenados en un secreto de Kubernetes en variables de flujo del proxy.
    Para obtener más detalles, consulta
    <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/k8s-secrets?hl=es-419">
     Almacena datos en un secreto de Kubernetes
    </a>
    .
    (133377603)
   </p>
   <h3 data-text="El elemento de operadores de Apigee (AO) reemplaza a ADAC y ADAH" id="ao" tabindex="0">
    El elemento de operadores de Apigee (AO) reemplaza a ADAC y AADA
   </h3>
   <p>
    Los operadores de Apigee (AO) crean y actualizan los recursos de Istio y Kubernetes de bajo nivel necesarios para implementar y mantener AD. Por ejemplo, el controlador lleva a cabo la actualización de los procesadores de mensajes. Además, valida la configuración de ApigeeDeployment antes de conservarla en el clúster de Kubernetes. AO reemplaza a la admisión de implementación de Apigee (AMI) y el controlador de implementación de Apigee (ADC).
  Consulta
    <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/config-prop-ref?hl=es-419#ao">
     elao en la referencia de la propiedad de configuración
    </a>
    .
  (151250559)
   </p>
   <h3 data-text="Reemplazar y dar de baja ciertas propiedades de configuración de clústeres y proyectos" id="replace-and-deprecate-certain-cluster-and-project-configuration-properties" tabindex="0">
    Reemplazar y dar de baja ciertas propiedades de configuración de clústeres y proyectos
   </h3>
   <p>
    Se agregaron dos propiedades de configuración nuevas:
    <code dir="ltr" translate="no">
     k8sCluster
    </code>
    y
    <code dir="ltr" translate="no">
     gcp
    </code>
    .
   Estas propiedades reemplazan las siguientes propiedades obsoletas:
    <code dir="ltr" translate="no">
     k8sClusterName
    </code>
    ,
    <code dir="ltr" translate="no">
     gcpRegion
    </code>
    y
    <code dir="ltr" translate="no">
     gcpProjectID
    </code>
    . Para obtener detalles, consulta
    <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/config-prop-ref?hl=es-419">
     Referencia de propiedad de configuración
    </a>
    . (146299599)
   </p>
   <h3 data-text="Expansión por volumen persistente para Cassandra en Kubernetes" id="persistent-volume-expansion-for-cassandra-on-kubernetes" tabindex="0">
    Expansión de volumen persistente para Cassandra en Kubernetes
   </h3>
   <p>
    Se agregó un proceso para expandir el volumen persistente utilizado por Apigee-cassandra para satisfacer las necesidades de almacenamiento, sin necesidad de agregar más nodos solo para aumentar el almacenamiento. Consulta la página sobre
    <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/expand-persistent-volumes?hl=es-419">
     cómo expandir los volúmenes persistentes de Cassandra
    </a>
    . (138167919)
   </p>
   <h3 data-text="Compatibilidad con fuentes adicionales para certificados, claves de encriptación y SA" id="support-additional-sources-for-certs,-encryption-keys-and-sas" tabindex="0">
    Compatibilidad con fuentes adicionales para certificados, claves de encriptación y SA
   </h3>
   <p>
    Se agregaron nuevas propiedades de configuración que proporcionan mayor flexibilidad en la forma de especificar certificados TLS, claves de encriptación y claves de cuentas de servicio. A continuación, se enumeran las propiedades nuevas:
   </p>
   <ul>
    <li>
     <code dir="ltr" translate="no">
      kmsEncryptionPath
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      kmsEncryptionSecret.key
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      kmsEncryptionSecret.name
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      cassandra.backup.serviceAccountSecretRef
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      cassandra.restore.serviceAccountSecretRef
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      envs[].cacheEncryptionPath
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      envs[].cacheEncryptionSecret.key
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      envs[].cacheEncryptionSecret.name
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      envs[].kmsEncryptionPath
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      envs[].kmsEncryptionSecret.key
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      envs[].kmsEncryptionSecret.name
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      envs[].serviceAccountSecretRefs.synchronizer
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      envs[].serviceAccountSecretRefs.udca
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      envs[].sslSecret
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      logger.serviceAccountSecretRef
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      mart.serviceAccountSecretRef
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      mart.sslSecret
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      metrics.serviceAccountSecretRef
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      synchronizer.serviceAccountSecretRef
     </code>
    </li>
    <li>
     <code dir="ltr" translate="no">
      udca.serviceAccountSecretRef
     </code>
    </li>
   </ul>
   <p>
    Para obtener más información, consulta la
    <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/config-prop-ref?hl=es-419">
     referencia de propiedades de configuración
    </a>
    . (145303466)
   </p>
   <h3 data-text="Permitir que los clientes ofusquen datos antes de enviarlos a Analytics" id="allow-customers-to-obfuscate-data-before-sending-it-to-analytics" tabindex="0">
    Permita que los clientes ofusquen los datos antes de enviarlos a Analytics
   </h3>
   <p>
    Se agregó una función que te permite ofuscar ciertos datos de estadísticas antes de enviarlos al plano de administración. Para obtener más información, consulta
    <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/obfuscate-userdata-for-analytics?hl=es-419">
     Ofusca datos de usuarios para estadísticas
    </a>
    . (142578910)
   </p>
   <h3 data-text="Expande volúmenes persistentes para conjuntos con estado" id="expand-persistent-volumes-for-statefulsets" tabindex="0">
    Expande volúmenes persistentes para conjuntos con estado
   </h3>
   <p>
    Se agregó una función que te permite expandir el volumen persistente utilizado por apigee-cassandra para satisfacer las necesidades de almacenamiento, sin agregar más potencia de procesamiento.  A fin de obtener más información, consulta
    <a href="https://cloud.google.com/apigee/docs/release/notes/hybrid/v1.2/expand-persistent-volumes?hl=es-419">
     Expande volúmenes persistentes para conjuntos con estado
    </a>
    .
    (138167919)
   </p>
   <h3 data-text="Se actualizaron las versiones mínimas admitidas de GKE, Anthos y AKS." id="minimum-supported-versions-of-gke,-anthos,-and-aks-are-upgraded" tabindex="0">
    Se actualizan las versiones mínimas admitidas de GKE, Anthos y AKS
   </h3>
   <p>
    Apigee Hybrid ahora es compatible con GKE 1.14.x, Anthos 1.2 y AKS 1.14.x. (149578101)
   </p>
   <h3 data-text="Compatibilidad con TLS 1.3 para las conexiones de límite" id="support-tls-1.3-for-northbound-connections" tabindex="0">
    Compatibilidad con TLS 1.3 para conexiones de norte
   </h3>
   <p>
    Dos propiedades de configuración nuevas te permiten configurar la versión mínima y máxima de TLS para las entradas:
    <code dir="ltr" translate="no">
     ingress.minTLSProtocolVersion
    </code>
    y
    <code dir="ltr" translate="no">
     maxTLSProtocolVersion
    </code>
    .
    Los valores posibles son 1.0, 1.1, 1.2 y 1.3. Para obtener más información, consulta la
    <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/config-prop-ref?hl=es-419">
     referencia de propiedades de configuración
    </a>
    . (117580780)
   </p>
   <h3 data-text="Compatibilidad con la configuración del proxy de reenvío para el entorno de ejecución híbrido" id="support-forward-proxy-configuration-for-hybrid-runtime" tabindex="0">
    Compatibilidad con la configuración de proxy de reenvío para el entorno de ejecución híbrido
   </h3>
   <p>
    El proxy HTTP de reenvío ahora es compatible con los proxies de API implementados en un entorno.
    Para obtener más información, consulta
    <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/forward-proxy?hl=es-419">
     Cómo configurar el proxy de reenvío
    </a>
    . (148970527)
   </p>
   <h3 data-text="Compatibilidad con varios hostsAlias por entorno" id="support-multiple-hostaliases-per-environment" tabindex="0">
    Compatibilidad con varios hostAliases por entorno
   </h3>
   <p>
    Se agregó una nueva propiedad de configuración,
    <code dir="ltr" translate="no">
     envs[].hostAliases
    </code>
    . Esta propiedad te permite agregar varios alias de host a un entorno. Usa este elemento en lugar de
    <code dir="ltr" translate="no">
     hostAlias
    </code>
    , que dejó de estar disponible. Para obtener más información, consulta
    <a href="https://cloud.google.com/apigee/docs/hybrid/v1.2/environment-create?hl=es-419#adding-multiple-host-aliases-to-an-environment">
     Agrega varios alias de host a un entorno
    </a>
    . (150738495)
   </p>
   <h3 data-text="Permite plantillas para conjuntos de propiedades" id="allow-templates-for-property-sets" tabindex="0">
    Permite plantillas para conjuntos de propiedades
   </h3>
   <p>
    Se agregó un elemento nuevo {PropertySetRef} al elemento {AssignVariable} de la política {AssignMessage}. &lt;PropertySetRef&gt; te permite crear un par de nombre/clave de conjunto de propiedades de forma dinámica.
         Esta característica solo está disponible para los proxies de API implementados en Apigee Hybris. Consulta
    <a href="https://cloud.google.com/apigee/docs/api-platform/reference/policies/assign-message-policy?hl=es-419#assignvariable">
     AssignVariable
    </a>
    . (148612340)
   </p>
   <h2 data-text="Fallas corregidas" id="bugs-fixed" tabindex="0">
    Fallas corregidas
   </h2>
   <p>
    En esta versión, se corrigieron los siguientes errores. Esta lista está dirigida principalmente a que los usuarios verifiquen si se corrigieron sus tickets de asistencia. No está diseñado para proporcionar información detallada de todos los usuarios.
   </p>
   <table class="table" summary="Errores solucionados en esta versión">
    <thead>
     <tr>
      <th>
       ID del problema
      </th>
      <th>
       Nombre del componente
      </th>
      <th>
       Descripción
      </th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td>
       147958049
      </td>
      <td>
       Tiempo de ejecución
      </td>
      <td>
       Se solucionó un problema de sincronización en la secuencia de inicio del tiempo de ejecución que impedía que el sincronizador se inicie de manera correcta.
      </td>
     </tr>
     <tr>
      <td>
       149867244
      </td>
      <td>
       Plataforma K8S
      </td>
      <td>
       El pod de apigee-cps-setup falla en la configuración multirregional
      </td>
     </tr>
     <tr>
      <td>
       150187652 / 149117839
      </td>
      <td>
       Tiempo de ejecución
      </td>
      <td>
       No se pudo usar guiones en los nombres de los entornos.
      </td>
     </tr>
     <tr>
      <td>
       149220463
      </td>
      <td>
       Pod de MP
      </td>
      <td>
       Los proxies implementados anteriormente debían volver a implementarse.
      </td>
     </tr>
     <tr>
      <td>
       144321144
      </td>
      <td>
       Tiempo de ejecución
      </td>
      <td>
       No se pudieron volver a cargar los proxies con hosts virtuales seguros.
      </td>
     </tr>
     <tr>
      <td>
       147685310
      </td>
      <td>
       Tiempo de ejecución
      </td>
      <td>
       Falló la inicialización del sincronizador debido a una falla en la recuperación del token de GCP durante la inicialización.
      </td>
     </tr>
     <tr>
      <td>
       151115900
      </td>
      <td>
       Tiempo de ejecución
      </td>
      <td>
       El sondeo interno periódico no ocurrió para HyMMART, lo que da como resultado resultados falsos positivos.
      </td>
     </tr>
    </tbody>
   </table>
   <h2 data-text="Problemas conocidos" id="known-issues" tabindex="0">
    Problemas conocidos
   </h2>
   <p>
    En la siguiente tabla, se describen los problemas conocidos de esta versión:
   </p>
   <table class="purple">
    <thead>
     <tr>
      <th>
       Problema
      </th>
      <th>
       Descripción
      </th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td>
       161658025
      </td>
      <td>
       <p>
        Estado de implementación inexacto para los flujos compartidos
       </p>
       <p>
        En los flujos compartidos, el estado de implementación no se informa correctamente a la IU, lo que genera un ícono de implementación girada de forma indefinida. Si implementaste un flujo de uso compartido y ves el ícono de implementación rotativo, debes suponer que la implementación falló.
       </p>
       <p>
        Para obtener el estado de implementación correcto, usa la API
        <a href="https://cloud.google.com/apigee/docs/reference/apis/apigee/rest?hl=es-419#rest-resource:-v1.organizations.environments.sharedflows.revisions.deployments">
         v1.organizations.environments.sharedflows.revisions.deployments
        </a>
        .
            Por ejemplo:
       </p>
       <pre class="devsite-terminal" dir="ltr" translate="no">

curl -s -H "$AUTH" \
"https://apigee.googleapis.com/v1/o/$ORG/e/$ENV/sharedflows/$FLOW/revisions/$REV/deployments"</pre>
      </td>
     </tr>
     <tr>
      <td>
       N/A
      </td>
      <td>
       <p>
        Error de encabezado HTTP no válido: el Ingress de Istio cambia todas las respuestas entrantes entrantes al protocolo HTTP2. Debido a que el procesador de mensajes híbrido solo admite HTTP1, es posible que veas el siguiente error cuando se llame a un proxy de API:
       </p>
       <pre class="prettyprint" dir="ltr" translate="no">

http2 error: Invalid HTTP header field was received: frame type: 1, stream: 1,
   name: [:authority], value: [domain_name]</pre>
       <p>
        Si ves este error, puedes realizar alguna de las siguientes acciones para corregir el problema:
       </p>
       <ul>
        <li>
         Modifica el servicio de destino para omitir el encabezado de host en la respuesta.
        </li>
        <li>
         Si es necesario, quita el encabezado Host con la política AssignarMessage en el proxy de API.
        </li>
       </ul>
      </td>
     </tr>
     <tr>
      <td>
       144584813
      </td>
      <td>
       Si creas una sesión de depuración, pero la sesión aún no tiene transacciones, entonces la
       <a href="https://cloud.google.com/hybrid/v1.2/reference/apis/rest/v1/organizations.environments.apis.revisions.debugsessions/list?hl=es-419">
        API de lista de sesiones de depuración
       </a>
       no incluye la sesión de esta lista. La API solo incluye sesiones en la respuesta si la sesión contiene al menos una transacción.
      </td>
     </tr>
     <tr>
      <td>
       143659917
      </td>
      <td>
       <p>
        El parámetro de configuración de caducidad de la política PropagaseCache debe configurarse como un valor explícito entre 1 y 30. Por ejemplo:
       </p>
       <pre class="prettyprint" dir="ltr" translate="no">

&lt;ExpirySettings&gt;
  &lt;TimeoutInSec&gt;30&lt;/TimeoutInSec&gt;
&lt;/ExpirySettings&gt;</pre>
      </td>
     </tr>
     <tr>
      <td>
       133192879
      </td>
      <td>
       <p>
        Resumen: Hay una latencia muy alta cuando se usa la API o la IU para obtener el estado de implementación de la organización. Esta latencia puede generar una respuesta
        <code dir="ltr" translate="no">
         HTTP 204 (No
          Content)
        </code>
        o
        <code dir="ltr" translate="no">
         HTTP 400 (Bad Request)
        </code>
        .
       </p>
       <p>
        Solución alternativa: Actualiza el navegador (o vuelve a enviar la solicitud).
       </p>
      </td>
     </tr>
    </tbody>
   </table>
  </div>
 </article>
</article>