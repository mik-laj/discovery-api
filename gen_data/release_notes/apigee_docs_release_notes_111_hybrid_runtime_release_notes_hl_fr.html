<article class="devsite-article">
 <article class="devsite-article-inner">
  <div background="teal" class="devsite-banner devsite-banner-announcement">
   <div class="devsite-banner-message">
    <div class="devsite-banner-message-text">
     <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
      <p>
       <strong>
        REMARQUE
       </strong>
       : Certains aspects de ce produit sont en version bêta. Les options d'installation hybride sont en disponibilité générale. Pour rejoindre le programme bêta, contactez votre représentant Apigee.
      </p>
     </meta>
    </div>
   </div>
  </div>
  <h1 class="devsite-page-title">
   1.1.1 - Notes de publication d'un environnement d'exécution hybride Apigee
  </h1>
  <devsite-toc class="devsite-nav" devsite-toc-embedded="">
  </devsite-toc>
  <div class="devsite-article-body clearfix">
   <p>
    Le 14 février 2020, nous avons lancé la version 1.1.1 de l'environnement d'exécution hybride Apigee.
   </p>
   <aside class="note">
    <strong>
     REMARQUE :
    </strong>
    Les API Apigee, l'interface utilisateur Apigee hybride, les services intégrés GCP et le portail intégré sont en
    <a href="https://cloud.google.com/products/?hl=fr#product-launch-stages">
     version bêta
    </a>
    . Tous les autres composants Apigee hybrides sont en phase de disponibilité générale. Pour plus d'informations, consultez la page
    <a href="https://cloud.google.com/apigee/docs/hybrid/terminology?hl=fr">
     Gestion des versions et terminologie
    </a>
    .
   </aside>
   <aside class="objective">
    Pour en savoir plus, consultez les ressources suivantes :
    <ul>
     <li>
      <em>
       <a href="https://cloud.google.com/apigee/docs/hybrid/what-is-hybrid?hl=fr">
        En savoir plus sur l'installation hybride
       </a>
      </em>
      ou
      <em>
       <a href="https://cloud.google.com/apigee/docs/hybrid/big-picture?hl=fr">
        Démarrer l'installation
       </a>
      </em>
     </li>
     <li>
      <em>
       Créer un compte payant :
      </em>
      contactez le
      <a href="https://pages.apigee.com/contact-sales-reg.html?hl=fr">
       service commercial d'Apigee
      </a>
     </li>
     <li>
      <em>
       Questions ou problèmes
      </em>
      Contactez l'
      <a class="external" href="https://cloud.google.com/apigee/support/?hl=fr">
       assistance Apigee
      </a>
     </li>
    </ul>
   </aside>
   <h2 data-text="Mise à niveau…" id="upgrading" tabindex="0">
    Mise à niveau
   </h2>
   <p>
    Vous ne pouvez pas mettre à niveau une version de 1.0.0 vers 1.1.1, et la nouvelle version n'est pas rétrocompatible avec la version 1.0.0. Si vous utilisez la version 1.0.0, la version 1.1.1 nécessite une nouvelle installation.
  Si vous utilisez actuellement la version 1.1.0, vous pouvez mettre à niveau en suivant ces instructions :
    <a href="https://cloud.google.com/apigee/docs/hybrid/upgrade?hl=fr">
     Mettre à niveau Apigee hybrid
    </a>
    .
   </p>
   <h2 data-text="Nouvelles fonctionnalités et mises à jour" id="new-features-and-updates" tabindex="0">
    Nouvelles fonctionnalités et mises à jour
   </h2>
   <p>
    Voici les nouvelles fonctionnalités et améliorations apportées à cette version :
   </p>
   <p>
   </p>
   <h3 data-text="Compatibilité avec GKE On-Prem et AKS" id="support-for-gke-on-prem-and-aks" tabindex="0">
    Compatibilité avec GKE On-Prem et AKS
   </h3>
   <p>
    Vous pouvez maintenant installer l'environnement d'exécution hybride sur Anthos GKE déployé sur site (GKE on-Prem) et Microsoft® Azure Kubernetes Service (AKS). Pour commencer, consultez la
    <a href="https://cloud.google.com/apigee/docs/hybrid/install-before-begin?hl=fr">
     partie 2 : Démarrage rapide
    </a>
    .
   </p>
   <p>
    Les déploiements multirégionaux sont également compatibles avec GKE On-Prem et AKS. Consultez les pages
    <a href="https://cloud.google.com/apigee/docs/hybrid/multi-region?hl=fr">
     Déploiement multirégional sur GKE et GKE On-Prem
    </a>
    et
    <a href="https://cloud.google.com/apigee/docs/hybrid/multi-region-aks?hl=fr">
     Déploiement multirégional sur AKS
    </a>
    .
   </p>
   <h3 data-text="Variables proxy pour les composants hybrides" id="proxy-variables-for-hybrid-components" tabindex="0">
    Variables de proxy pour les composants hybrides
   </h3>
   <p>
    Vous pouvez maintenant fournir des paramètres de configuration pour un serveur proxy HTTP de transfert. Lorsque cette règle est configurée, toutes les communications Internet des composants d'UDCA, de MART et du Synchronisateur passent par le serveur proxy. Pour en savoir plus sur la propriété de configuration
    <code dir="ltr" translate="no">
     httpProxy
    </code>
    , consultez la page sur les
    <a href="https://cloud.google.com/apigee/docs/hybrid/config-prop-ref?hl=fr#httpProxy">
     propriétés httpProxy
    </a>
    .
        (132167490)
   </p>
   <h2 data-text="Corrections de bugs" id="bugs-fixed" tabindex="0">
    Corrections de bugs
   </h2>
   <p>
    Les bugs suivants sont corrigés dans cette version. Cette liste est principalement destinée aux utilisateurs qui vérifient si leurs demandes d'assistance ont été corrigées. Il n'est pas conçu pour fournir des informations détaillées à tous les utilisateurs.
   </p>
   <table class="table" summary="Bugs corrigés dans cette version">
    <thead>
     <tr>
      <th>
       ID du problème
      </th>
      <th>
       Nom du composant
      </th>
      <th>
       Description
      </th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td>
       144448262
      </td>
      <td>
       Plate-forme K8S
      </td>
      <td>
       <p>
        <b>
         Écarts dans la métrique UDCA
         <code dir="ltr" translate="no">
          udca_upstream_http_error_count label
         </code>
        </b>
       </p>
       <p>
       </p>
      </td>
     </tr>
     <tr>
      <td>
       147258525
      </td>
      <td>
       CPS
      </td>
      <td>
       <p>
        <b>
         Activer l'index de hachage partitionnée en mode hybride
        </b>
       </p>
       <p>
       </p>
      </td>
     </tr>
     <tr>
      <td>
       144286363
      </td>
      <td>
       Trace
      </td>
      <td>
       <p>
        <b>
         Un problème a été résolu, le masque de débogage dans
         <code dir="ltr" translate="no">
          env.json
         </code>
         ne masque pas les données de réponse.
        </b>
       </p>
      </td>
     </tr>
     <tr>
      <td>
       147191247
      </td>
      <td>
       Plate-forme K8S
      </td>
      <td>
       <p>
        <b>
         La clé de chiffrement du contrat ne doit pas faire partie de
         <code dir="ltr" translate="no">
          apigeectl init
         </code>
        </b>
       </p>
       <p>
       </p>
      </td>
     </tr>
     <tr>
      <td>
       146932903
      </td>
      <td>
       Plate-forme K8S
      </td>
      <td>
       <p>
        <b>
         Supprimer les ports indésirables de l'entrée Istio
        </b>
       </p>
       <p>
       </p>
      </td>
     </tr>
     <tr>
      <td>
       146426226
      </td>
      <td>
       Plate-forme K8S
      </td>
      <td>
       <p>
        <b>
         Les journaux d'entrée ne sont pas collectés
        </b>
       </p>
       <p>
       </p>
      </td>
     </tr>
     <tr>
      <td>
       143660032
      </td>
      <td>
       RMP
      </td>
      <td>
       <p>
        <b>
         com.apigee.test.runtime.steps.quota.DefaultQuotaTypeTest échoue en hybride
        </b>
       </p>
       <p>
       </p>
      </td>
     </tr>
     <tr>
      <td>
       144973407
      </td>
      <td>
       RMP
      </td>
      <td>
       <p>
        <b>
         Il existe actuellement deux ID de corrélation pour une transaction. Il ne devrait n'y en avoir qu'un.
        </b>
       </p>
       <p>
       </p>
      </td>
     </tr>
     <tr>
      <td>
       144321473
      </td>
      <td>
       UAP
      </td>
      <td>
       <p>
        <b>
         UDCA : ne supprimer aucun avertissement de vérification de l'état dans la journalisation
        </b>
       </p>
       <p>
       </p>
      </td>
     </tr>
     <tr>
      <td>
       144321491
      </td>
      <td>
       RMP
      </td>
      <td>
       <p>
        <b>
         CacheConfiguration.warnMaxEntriesLocalHeap() log indique un problème de performances
        </b>
       </p>
       <p>
       </p>
      </td>
     </tr>
    </tbody>
   </table>
   <h2 data-text="Problèmes connus" id="known-issues" tabindex="0">
    Problèmes connus
   </h2>
   <p>
    Le tableau suivant décrit les problèmes connus de cette version :
   </p>
   <table class="purple">
    <thead>
     <tr>
      <th width="20%">
       Problème
      </th>
      <th>
       Description
      </th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td>
       150187652
      </td>
      <td>
       Vous ne pouvez pas utiliser de tirets dans les noms d'environnement. Un nom d'environnement avec un tiret entraîne des erreurs de démarrage du pod d'exécution.
      </td>
     </tr>
     <tr>
      <td>
       149220463
      </td>
      <td>
       <p>
        Lorsque vous passez à la version 1.1.1, les proxys précédemment déployés ne sont pas déployés.
       </p>
       <p>
        <strong>
         Solution :
        </strong>
        Pour contourner ce problème, redéployez tous les proxys précédemment déployés.
       </p>
      </td>
     </tr>
     <tr>
     </tr>
     <tr>
      <td>
       ND
      </td>
      <td>
       Vous ne pouvez pas utiliser "*" pour la propriété
       <code dir="ltr" translate="no">
        hostAlias
       </code>
       pour les configurations
       <code dir="ltr" translate="no">
        mart
       </code>
       et
       <code dir="ltr" translate="no">
        envs
       </code>
       . Il est recommandé d'utiliser un nom d'hôte spécifique pour la configuration
       <code dir="ltr" translate="no">
        mart
       </code>
       .
      </td>
     </tr>
     <tr>
     </tr>
     <tr>
      <td>
       ND
      </td>
      <td>
       La définition des variables
       <code dir="ltr" translate="no">
        HTTP_PROXY
       </code>
       ,
       <code dir="ltr" translate="no">
        HTTPS_PROXY
       </code>
       et
       <code dir="ltr" translate="no">
        NO_PROXY
       </code>
       n'est pas prise en charge dans la version Alpha d'Apigee Connect.
      </td>
     </tr>
     <tr>
     </tr>
     <tr>
      <td>
       ND
      </td>
      <td>
       <p>
        Erreur d'en-tête HTTP non valide : l'entrée Istio transfère toutes les réponses cibles entrantes au protocole HTTP2. Comme le processeur de messages hybride n'accepte que le protocole HTTP1, vous pouvez rencontrer l'erreur suivante lorsqu'un proxy d'API est appelé :
       </p>
       <pre class="prettyprint" dir="ltr" translate="no">

http2 error: Invalid HTTP header field was received: frame type: 1, stream: 1,
   name: [:authority], value: [domain_name]</pre>
       <p>
        Si cette erreur s'affiche, vous pouvez effectuer l'une des actions suivantes pour résoudre le problème :
       </p>
       <ul>
        <li>
         Modifiez le service cible pour omettre l'en-tête "Host" dans la réponse.
        </li>
        <li>
         Supprimez l'en-tête Host à l'aide de la règle AssignMessage de votre proxy d'API si nécessaire.
        </li>
       </ul>
      </td>
     </tr>
     <tr>
      <td>
       144584813
      </td>
      <td>
       Si vous créez une session de débogage, mais que la session ne comporte pas encore de transactions, elle ne figure pas dans la
       <a href="https://cloud.google.com/hybrid/reference/apis/rest/v1/organizations.environments.apis.revisions.debugsessions/list?hl=fr">
        liste des sessions débogage de l'API
       </a>
       . L'API n'inclut des sessions dans la réponse que si la session contient au moins une transaction.
      </td>
     </tr>
     <tr>
      <td>
       144436206
      </td>
      <td>
       Dans la vue
       <strong>
        Performances du cache
       </strong>
       , le calcul du taux d'accès au cache est incorrect.
      </td>
     </tr>
     <tr>
      <td>
       144321144
      </td>
      <td>
       Impossible de recharger les proxys avec des hôtes virtuels
       <!-- TODO: ad, 131111865 -->
       sécurisés.
      </td>
     </tr>
     <tr>
      <td>
       143659917
      </td>
      <td>
       <p>
        Le paramètre d'expiration de la règle PopulateCache doit être défini sur une valeur explicite comprise entre 1 et 30. Exemple :
       </p>
       <pre class="prettyprint" dir="ltr" translate="no">

&lt;ExpirySettings&gt;
  &lt;TimeoutInSec&gt;30&lt;/TimeoutInSec&gt;
&lt;/ExpirySettings&gt;</pre>
      </td>
     </tr>
     <tr>
      <td>
       133192879
      </td>
      <td>
       <p>
        Résumé : Il existe une latence très élevée lorsque vous utilisez l'API ou l'interface utilisateur pour obtenir l'état de déploiement de votre organisation. Cette latence peut entraîner une réponse
        <code dir="ltr" translate="no">
         HTTP 204 (No
          Content)
        </code>
        ou
        <code dir="ltr" translate="no">
         HTTP 400 (Bad Request)
        </code>
        .
       </p>
       <p>
        Solution : actualisez votre navigateur (ou renvoyez la requête).
       </p>
      </td>
     </tr>
    </tbody>
   </table>
  </div>
 </article>
</article>